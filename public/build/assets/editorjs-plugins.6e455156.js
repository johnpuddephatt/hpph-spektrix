var W=Object.defineProperty;var Z=(N,U,A)=>U in N?W(N,U,{enumerable:!0,configurable:!0,writable:!0,value:A}):N[U]=A;var z=(N,U,A)=>(Z(N,typeof U!="symbol"?U+"":U,A),A);import{g as q}from"./_commonjsHelpers.b8add541.js";var $={exports:{}};(function(N,U){(function(A,I){N.exports=I()})(window,function(){return function(A){var I={};function b(v){if(I[v])return I[v].exports;var s=I[v]={i:v,l:!1,exports:{}};return A[v].call(s.exports,s,s.exports,b),s.l=!0,s.exports}return b.m=A,b.c=I,b.d=function(v,s,r){b.o(v,s)||Object.defineProperty(v,s,{enumerable:!0,get:r})},b.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},b.t=function(v,s){if(1&s&&(v=b(v)),8&s||4&s&&typeof v=="object"&&v&&v.__esModule)return v;var r=Object.create(null);if(b.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:v}),2&s&&typeof v!="string")for(var o in v)b.d(r,o,function(n){return v[n]}.bind(null,o));return r},b.n=function(v){var s=v&&v.__esModule?function(){return v.default}:function(){return v};return b.d(s,"a",s),s},b.o=function(v,s){return Object.prototype.hasOwnProperty.call(v,s)},b.p="/",b(b.s=17)}([function(A,I,b){A.exports=function(v){var s={};function r(o){if(s[o])return s[o].exports;var n=s[o]={i:o,l:!1,exports:{}};return v[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=v,r.c=s,r.d=function(o,n,f){r.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:f})},r.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,n){if(1&n&&(o=r(o)),8&n||4&n&&typeof o=="object"&&o&&o.__esModule)return o;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:o}),2&n&&typeof o!="string")for(var y in o)r.d(f,y,function(l){return o[l]}.bind(null,y));return f},r.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(n,"a",n),n},r.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},r.p="",r(r.s=3)}([function(v,s){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}v.exports=r},function(v,s,r){(function(o){var n=r(2),f=setTimeout;function y(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function d(e,c){for(;e._state===3;)e=e._value;e._state!==0?(e._handled=!0,l._immediateFn(function(){var h=e._state===1?c.onFulfilled:c.onRejected;if(h!==null){var p;try{p=h(e._value)}catch(g){return void E(c.promise,g)}S(c.promise,p)}else(e._state===1?S:E)(c.promise,e._value)})):e._deferreds.push(c)}function S(e,c){try{if(c===e)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var h=c.then;if(c instanceof l)return e._state=3,e._value=c,void _(e);if(typeof h=="function")return void a((p=h,g=c,function(){p.apply(g,arguments)}),e)}e._state=1,e._value=c,_(e)}catch(t){E(e,t)}var p,g}function E(e,c){e._state=2,e._value=c,_(e)}function _(e){e._state===2&&e._deferreds.length===0&&l._immediateFn(function(){e._handled||l._unhandledRejectionFn(e._value)});for(var c=0,h=e._deferreds.length;c<h;c++)d(e,e._deferreds[c]);e._deferreds=null}function x(e,c,h){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof c=="function"?c:null,this.promise=h}function a(e,c){var h=!1;try{e(function(p){h||(h=!0,S(c,p))},function(p){h||(h=!0,E(c,p))})}catch(p){if(h)return;h=!0,E(c,p)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,c){var h=new this.constructor(y);return d(this,new x(e,c,h)),h},l.prototype.finally=n.a,l.all=function(e){return new l(function(c,h){if(!e||e.length===void 0)throw new TypeError("Promise.all accepts an array");var p=Array.prototype.slice.call(e);if(p.length===0)return c([]);var g=p.length;function t(w,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var m=u.then;if(typeof m=="function")return void m.call(u,function(T){t(w,T)},h)}p[w]=u,--g==0&&c(p)}catch(T){h(T)}}for(var i=0;i<p.length;i++)t(i,p[i])})},l.resolve=function(e){return e&&typeof e=="object"&&e.constructor===l?e:new l(function(c){c(e)})},l.reject=function(e){return new l(function(c,h){h(e)})},l.race=function(e){return new l(function(c,h){for(var p=0,g=e.length;p<g;p++)e[p].then(c,h)})},l._immediateFn=typeof o=="function"&&function(e){o(e)}||function(e){f(e,0)},l._unhandledRejectionFn=function(e){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},s.a=l}).call(this,r(5).setImmediate)},function(v,s,r){s.a=function(o){var n=this.constructor;return this.then(function(f){return n.resolve(o()).then(function(){return f})},function(f){return n.resolve(o()).then(function(){return n.reject(f)})})}},function(v,s,r){function o(x){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(x)}r(4);var n,f,y,l,d,S,E=r(8),_=(f=function(x){return new Promise(function(a,e){x=l(x),x=d(x);var c=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");c.open(x.method,x.url),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(x.headers).forEach(function(p){var g=x.headers[p];c.setRequestHeader(p,g)});var h=x.ratio;c.upload.addEventListener("progress",function(p){var g=Math.round(p.loaded/p.total*100),t=Math.ceil(g*h/100);x.progress(t)},!1),c.addEventListener("progress",function(p){var g=Math.round(p.loaded/p.total*100),t=Math.ceil(g*(100-h)/100)+h;x.progress(t)},!1),c.onreadystatechange=function(){if(c.readyState===4){var p=c.response;try{p=JSON.parse(p)}catch{}var g=E.parseHeaders(c.getAllResponseHeaders()),t={body:p,code:c.status,headers:g};c.status===200?a(t):e(t)}},c.send(x.data)})},y=function(x){return x.method="POST",f(x)},l=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(x.url&&typeof x.url!="string")throw new Error("Url must be a string");if(x.url=x.url||"",x.method&&typeof x.method!="string")throw new Error("`method` must be a string or null");if(x.method=x.method?x.method.toUpperCase():"GET",x.headers&&o(x.headers)!=="object")throw new Error("`headers` must be an object or null");if(x.headers=x.headers||{},x.type&&(typeof x.type!="string"||!Object.values(n).includes(x.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(x.progress&&typeof x.progress!="function")throw new Error("`progress` must be a function or null");if(x.progress=x.progress||function(a){},x.beforeSend=x.beforeSend||function(a){},x.ratio&&typeof x.ratio!="number")throw new Error("`ratio` must be a number");if(x.ratio<0||x.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(x.ratio=x.ratio||90,x.accept&&typeof x.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(x.accept=x.accept||"*/*",x.multiple&&typeof x.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(x.multiple=x.multiple||!1,x.fieldName&&typeof x.fieldName!="string")throw new Error("`fieldName` must be a string");return x.fieldName=x.fieldName||"files",x},d=function(x){switch(x.method){case"GET":var a=S(x.data,n.URLENCODED);delete x.data,x.url=/\?/.test(x.url)?x.url+"&"+a:x.url+"?"+a;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var e=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||n.JSON}(x);(E.isFormData(x.data)||E.isFormElement(x.data))&&(e=n.FORM),x.data=S(x.data,e),e!==_.contentType.FORM&&(x.headers["content-type"]=e)}return x},S=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case n.URLENCODED:return E.urlEncode(x);case n.JSON:return E.jsonEncode(x);case n.FORM:return E.formEncode(x);default:return x}},{contentType:n={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:f,get:function(x){return x.method="GET",f(x)},post:y,transport:function(x){return x=l(x),E.selectFiles(x).then(function(a){for(var e=new FormData,c=0;c<a.length;c++)e.append(x.fieldName,a[c],a[c].name);return E.isObject(x.data)&&Object.keys(x.data).forEach(function(h){var p=x.data[h];e.append(h,p)}),x.beforeSend&&x.beforeSend(a),x.data=e,y(x)})},selectFiles:function(x){return delete(x=l(x)).beforeSend,E.selectFiles(x)}});v.exports=_},function(v,s,r){r.r(s);var o=r(1);window.Promise=window.Promise||o.a},function(v,s,r){(function(o){var n=o!==void 0&&o||typeof self!="undefined"&&self||window,f=Function.prototype.apply;function y(l,d){this._id=l,this._clearFn=d}s.setTimeout=function(){return new y(f.call(setTimeout,n,arguments),clearTimeout)},s.setInterval=function(){return new y(f.call(setInterval,n,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(l){l&&l.close()},y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(n,this._id)},s.enroll=function(l,d){clearTimeout(l._idleTimeoutId),l._idleTimeout=d},s.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},s._unrefActive=s.active=function(l){clearTimeout(l._idleTimeoutId);var d=l._idleTimeout;d>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},d))},r(6),s.setImmediate=typeof self!="undefined"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self!="undefined"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(v,s,r){(function(o,n){(function(f,y){if(!f.setImmediate){var l,d,S,E,_,x=1,a={},e=!1,c=f.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(f);h=h&&h.setTimeout?h:f,{}.toString.call(f.process)==="[object process]"?l=function(t){n.nextTick(function(){g(t)})}:function(){if(f.postMessage&&!f.importScripts){var t=!0,i=f.onmessage;return f.onmessage=function(){t=!1},f.postMessage("","*"),f.onmessage=i,t}}()?(E="setImmediate$"+Math.random()+"$",_=function(t){t.source===f&&typeof t.data=="string"&&t.data.indexOf(E)===0&&g(+t.data.slice(E.length))},f.addEventListener?f.addEventListener("message",_,!1):f.attachEvent("onmessage",_),l=function(t){f.postMessage(E+t,"*")}):f.MessageChannel?((S=new MessageChannel).port1.onmessage=function(t){g(t.data)},l=function(t){S.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,l=function(t){var i=c.createElement("script");i.onreadystatechange=function(){g(t),i.onreadystatechange=null,d.removeChild(i),i=null},d.appendChild(i)}):l=function(t){setTimeout(g,0,t)},h.setImmediate=function(t){typeof t!="function"&&(t=new Function(""+t));for(var i=new Array(arguments.length-1),w=0;w<i.length;w++)i[w]=arguments[w+1];var u={callback:t,args:i};return a[x]=u,l(x),x++},h.clearImmediate=p}function p(t){delete a[t]}function g(t){if(e)setTimeout(g,0,t);else{var i=a[t];if(i){e=!0;try{(function(w){var u=w.callback,m=w.args;switch(m.length){case 0:u();break;case 1:u(m[0]);break;case 2:u(m[0],m[1]);break;case 3:u(m[0],m[1],m[2]);break;default:u.apply(y,m)}})(i)}finally{p(t),e=!1}}}}})(typeof self=="undefined"?o===void 0?this:o:self)}).call(this,r(0),r(7))},function(v,s){var r,o,n=v.exports={};function f(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function l(h){if(r===setTimeout)return setTimeout(h,0);if((r===f||!r)&&setTimeout)return r=setTimeout,setTimeout(h,0);try{return r(h,0)}catch{try{return r.call(null,h,0)}catch{return r.call(this,h,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:f}catch{r=f}try{o=typeof clearTimeout=="function"?clearTimeout:y}catch{o=y}})();var d,S=[],E=!1,_=-1;function x(){E&&d&&(E=!1,d.length?S=d.concat(S):_=-1,S.length&&a())}function a(){if(!E){var h=l(x);E=!0;for(var p=S.length;p;){for(d=S,S=[];++_<p;)d&&d[_].run();_=-1,p=S.length}d=null,E=!1,function(g){if(o===clearTimeout)return clearTimeout(g);if((o===y||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(g);try{o(g)}catch{try{return o.call(null,g)}catch{return o.call(this,g)}}}(h)}}function e(h,p){this.fun=h,this.array=p}function c(){}n.nextTick=function(h){var p=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)p[g-1]=arguments[g];S.push(new e(h,p)),S.length!==1||E||l(a)},e.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.prependListener=c,n.prependOnceListener=c,n.listeners=function(h){return[]},n.binding=function(h){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(h){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(v,s,r){function o(f,y){for(var l=0;l<y.length;l++){var d=y[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}var n=r(9);v.exports=function(){function f(){(function(d,S){if(!(d instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f)}var y,l;return y=f,(l=[{key:"urlEncode",value:function(d){return n(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var S=new FormData;return Object.keys(d).forEach(function(E){var _=d[E];S.append(E,_)}),S}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(S,E){var _=document.createElement("INPUT");_.type="file",d.multiple&&_.setAttribute("multiple","multiple"),d.accept&&_.setAttribute("accept",d.accept),_.style.display="none",document.body.appendChild(_),_.addEventListener("change",function(x){var a=x.target.files;S(a),document.body.removeChild(_)},!1),_.click()})}},{key:"parseHeaders",value:function(d){var S=d.trim().split(/[\r\n]+/),E={};return S.forEach(function(_){var x=_.split(": "),a=x.shift(),e=x.join(": ");a&&(E[a]=e)}),E}}])&&o(y,l),f}()},function(v,s){var r=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(n,f,y,l){return f=f||null,y=y||"&",l=l||null,n?function(d){for(var S=new Array,E=0;E<d.length;E++)d[E]&&S.push(d[E]);return S}(Object.keys(n).map(function(d){var S,E,_=d;if(l&&(_=l+"["+_+"]"),typeof n[d]=="object"&&n[d]!==null)S=o(n[d],null,y,_);else{f&&(E=_,_=!isNaN(parseFloat(E))&&isFinite(E)?f+Number(_):_);var x=n[d];x=(x=(x=(x=x===!0?"1":x)===!1?"0":x)===0?"0":x)||"",S=r(_)+"="+r(x)}return S})).join(y).replace(/[!'()*]/g,""):""};v.exports=o}])},function(A,I){A.exports=function(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}},function(A,I){function b(v,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(v,o.key,o)}}A.exports=function(v,s,r){return s&&b(v.prototype,s),r&&b(v,r),v}},function(A,I,b){var v=b(6),s=b(7),r=b(8);A.exports=function(o){return v(o)||s(o)||r()}},function(A,I,b){var v=b(9),s=b(10),r=b(11);A.exports=function(o,n){return v(o)||s(o,n)||r()}},function(A,I){A.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(A,I){A.exports=function(b){if(Array.isArray(b)){for(var v=0,s=new Array(b.length);v<b.length;v++)s[v]=b[v];return s}}},function(A,I){A.exports=function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}},function(A,I){A.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(A,I){A.exports=function(b){if(Array.isArray(b))return b}},function(A,I){A.exports=function(b,v){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]"){var s=[],r=!0,o=!1,n=void 0;try{for(var f,y=b[Symbol.iterator]();!(r=(f=y.next()).done)&&(s.push(f.value),!v||s.length!==v);r=!0);}catch(l){o=!0,n=l}finally{try{r||y.return==null||y.return()}finally{if(o)throw n}}return s}}},function(A,I){A.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(A,I,b){var v=b(13);typeof v=="string"&&(v=[[A.i,v,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};b(15)(v,s),v.locals&&(A.exports=v.locals)},function(A,I,b){(A.exports=b(14)(!1)).push([A.i,`.cdxcarousel-addImage {
    height: 225px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 5px;
    position: relative;
    flex-direction: row;
    margin-top: 5px;
}

.cdxcarousel-item--empty .image-tool__image-preloader{
  display: none;
}

.cdxcarousel-item img {
    margin-bottom: 15px;
    display: block;
    object-fit: cover;
    width: 100%;
    height: 180px;
    order: 1;
}

.cdxcarousel-inputUrl {
    order: 0;
    display: none;
}

.cdxcarousel-caption {
    order: 3;
}


.cdxcarousel-block {
    width: 50%;
}

.cdxcarousel-list {
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
    justify-content: flex-start;
    align-items: flex-start;
}

.cdxcarousel-wrapper {
    margin-top: 10px;
    margin-bottom: 15px;
}

.cdxcarousel-item {
    height: 235px;
    padding: 5px;
    display: flex;
    position: relative;
    flex-direction: column;
}


.cdxcarousel-removeBtn {
    position: absolute;
    padding: 3px;
    right: 10px;
    top: 10px;
    display: inline-flex;
    width: 34px;
    height: 34px;
    line-height: 34px;
    justify-content: center;
    align-items: center;
    border-radius: 3px;
    cursor: pointer;
    border: 0;
    outline: none;
    background-color: white;
    color: #000;
    transition: background 200ms;
}

.cdxcarousel-removeBtn:hover {
    background: #eff2f5;
}

.cdxcarousel-leftBtn {
  position: absolute;
  padding: 3px;
  right: 88px;
  top: 10px;
  display: inline-flex;
  width: 34px;
  height: 34px;
  line-height: 34px;
  justify-content: center;
  align-items: center;
  border-radius: 3px;
  cursor: pointer;
  border: 0;
  outline: none;
  background-color: white;
  color: #000;
  transition: background 200ms;
}

.cdxcarousel-rightBtn {
  position: absolute;
  padding: 3px;
  right: 49px;
  top: 10px;
  display: inline-flex;
  width: 34px;
  height: 34px;
  line-height: 34px;
  justify-content: center;
  align-items: center;
  border-radius: 3px;
  cursor: pointer;
  border: 0;
  outline: none;
  background-color: white;
  color: #000;
  transition: background 200ms;
}


.image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }


.image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }


.image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: #cdd1e0;
      background-position: center center;
    }


.image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid #cdd1e0;
        border-top-color: #388ae5;
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }
`,""])},function(A,I){A.exports=function(b){var v=[];return v.toString=function(){return this.map(function(s){var r=function(o,n){var f=o[1]||"",y=o[3];if(!y)return f;if(n&&typeof btoa=="function"){var l=(S=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(S))))+" */"),d=y.sources.map(function(E){return"/*# sourceURL="+y.sourceRoot+E+" */"});return[f].concat(d).concat([l]).join(`
`)}var S;return[f].join(`
`)}(s,b);return s[2]?"@media "+s[2]+"{"+r+"}":r}).join("")},v.i=function(s,r){typeof s=="string"&&(s=[[null,s,""]]);for(var o={},n=0;n<this.length;n++){var f=this[n][0];typeof f=="number"&&(o[f]=!0)}for(n=0;n<s.length;n++){var y=s[n];typeof y[0]=="number"&&o[y[0]]||(r&&!y[2]?y[2]=r:r&&(y[2]="("+y[2]+") and ("+r+")"),v.push(y))}},v}},function(A,I,b){var v,s,r={},o=(v=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=v.apply(this,arguments)),s}),n=function(u){return document.querySelector(u)},f=function(u){var m={};return function(T){if(typeof T=="function")return T();if(m[T]===void 0){var L=n.call(this,T);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}m[T]=L}return m[T]}}(),y=null,l=0,d=[],S=b(16);function E(u,m){for(var T=0;T<u.length;T++){var L=u[T],B=r[L.id];if(B){B.refs++;for(var k=0;k<B.parts.length;k++)B.parts[k](L.parts[k]);for(;k<L.parts.length;k++)B.parts.push(h(L.parts[k],m))}else{var O=[];for(k=0;k<L.parts.length;k++)O.push(h(L.parts[k],m));r[L.id]={id:L.id,refs:1,parts:O}}}}function _(u,m){for(var T=[],L={},B=0;B<u.length;B++){var k=u[B],O=m.base?k[0]+m.base:k[0],C={css:k[1],media:k[2],sourceMap:k[3]};L[O]?L[O].parts.push(C):T.push(L[O]={id:O,parts:[C]})}return T}function x(u,m){var T=f(u.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var L=d[d.length-1];if(u.insertAt==="top")L?L.nextSibling?T.insertBefore(m,L.nextSibling):T.appendChild(m):T.insertBefore(m,T.firstChild),d.push(m);else if(u.insertAt==="bottom")T.appendChild(m);else{if(typeof u.insertAt!="object"||!u.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var B=f(u.insertInto+" "+u.insertAt.before);T.insertBefore(m,B)}}function a(u){if(u.parentNode===null)return!1;u.parentNode.removeChild(u);var m=d.indexOf(u);m>=0&&d.splice(m,1)}function e(u){var m=document.createElement("style");return u.attrs.type===void 0&&(u.attrs.type="text/css"),c(m,u.attrs),x(u,m),m}function c(u,m){Object.keys(m).forEach(function(T){u.setAttribute(T,m[T])})}function h(u,m){var T,L,B,k;if(m.transform&&u.css){if(!(k=m.transform(u.css)))return function(){};u.css=k}if(m.singleton){var O=l++;T=y||(y=e(m)),L=t.bind(null,T,O,!1),B=t.bind(null,T,O,!0)}else u.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(C){var j=document.createElement("link");return C.attrs.type===void 0&&(C.attrs.type="text/css"),C.attrs.rel="stylesheet",c(j,C.attrs),x(C,j),j}(m),L=w.bind(null,T,m),B=function(){a(T),T.href&&URL.revokeObjectURL(T.href)}):(T=e(m),L=i.bind(null,T),B=function(){a(T)});return L(u),function(C){if(C){if(C.css===u.css&&C.media===u.media&&C.sourceMap===u.sourceMap)return;L(u=C)}else B()}}A.exports=function(u,m){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(m=m||{}).attrs=typeof m.attrs=="object"?m.attrs:{},m.singleton||typeof m.singleton=="boolean"||(m.singleton=o()),m.insertInto||(m.insertInto="head"),m.insertAt||(m.insertAt="bottom");var T=_(u,m);return E(T,m),function(L){for(var B=[],k=0;k<T.length;k++){var O=T[k];(C=r[O.id]).refs--,B.push(C)}for(L&&E(_(L,m),m),k=0;k<B.length;k++){var C;if((C=B[k]).refs===0){for(var j=0;j<C.parts.length;j++)C.parts[j]();delete r[C.id]}}}};var p,g=(p=[],function(u,m){return p[u]=m,p.filter(Boolean).join(`
`)});function t(u,m,T,L){var B=T?"":L.css;if(u.styleSheet)u.styleSheet.cssText=g(m,B);else{var k=document.createTextNode(B),O=u.childNodes;O[m]&&u.removeChild(O[m]),O.length?u.insertBefore(k,O[m]):u.appendChild(k)}}function i(u,m){var T=m.css,L=m.media;if(L&&u.setAttribute("media",L),u.styleSheet)u.styleSheet.cssText=T;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(T))}}function w(u,m,T){var L=T.css,B=T.sourceMap,k=m.convertToAbsoluteUrls===void 0&&B;(m.convertToAbsoluteUrls||k)&&(L=S(L)),B&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var O=new Blob([L],{type:"text/css"}),C=u.href;u.href=URL.createObjectURL(O),C&&URL.revokeObjectURL(C)}},function(A,I){A.exports=function(b){var v=typeof window!="undefined"&&window.location;if(!v)throw new Error("fixUrls requires window.location");if(!b||typeof b!="string")return b;var s=v.protocol+"//"+v.host,r=s+v.pathname.replace(/\/[^\/]*$/,"/");return b.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(o,n){var f,y=n.trim().replace(/^"(.*)"$/,function(l,d){return d}).replace(/^'(.*)'$/,function(l,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?o:(f=y.indexOf("//")===0?y:y.indexOf("/")===0?s+y:r+y.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(A,I,b){b.r(I);var v=b(3),s=b.n(v),r=b(1),o=b.n(r),n=b(2),f=b.n(n),y=b(4),l=b.n(y),d=b(0),S=b.n(d),E=function(){function h(p){var g=p.config,t=p.onUpload,i=p.onError;o()(this,h),this.config=g,this.onUpload=t,this.onError=i}return f()(h,[{key:"uploadSelectedFile",value:function(p){var g=this,t=p.onPreview,i=function(w){var u=new window.FileReader;u.readAsDataURL(w),u.onload=function(m){t(m.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?S.a.selectFiles({accept:this.config.types}).then(function(w){i(w[0]);var u=g.config.uploader.uploadByFile(w[0]);return _(u)||console.warn("Custom uploader method uploadByFile should return a Promise"),u}):S.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(w){i(w[0])},fieldName:this.config.field}).then(function(w){return w.body})).then(function(w){g.onUpload(w)}).catch(function(w){g.onError(w)})}},{key:"uploadByUrl",value:function(p){var g,t=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?_(g=this.config.uploader.uploadByUrl(p))||console.warn("Custom uploader method uploadByUrl should return a Promise"):g=S.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:p},this.config.additionalRequestData),type:S.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(i){return i.body}),g.then(function(i){t.onUpload(i)}).catch(function(i){t.onError(i)})}},{key:"uploadByFile",value:function(p,g){var t,i=this,w=g.onPreview,u=new window.FileReader;if(u.readAsDataURL(p),u.onload=function(T){w(T.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")_(t=this.config.uploader.uploadByFile(p))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var m=new window.FormData;m.append(this.config.field,p),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(T){var L=l()(T,2),B=L[0],k=L[1];m.append(B,k)}),t=S.a.post({url:this.config.endpoints.byFile,data:m,type:S.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(T){return T.body})}t.then(function(T){i.onUpload(T)}).catch(function(T){i.onError(T)})}}]),h}();function _(h){return window.Promise.resolve(h)===h}var x=b(5),a=b.n(x);b.d(I,"default",function(){return e}),b.d(I,"make",function(){return c}),b(12).toString();var e=function(){function h(p){var g=this,t=p.data,i=p.config,w=p.api;o()(this,h),this.api=w,this.data=t,this.IconClose='<svg class="icon icon--cross" width="12px" height="12px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#cross"></use></svg>',this.IconLeft='<svg class="icon " viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M351,9a15,15 0 01 19,0l29,29a15,15 0 01 0,19l-199,199l199,199a15,15 0 01 0,19l-29,29a15,15 0 01-19,0l-236-235a16,16 0 01 0-24z" /></svg>',this.IconRight='<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M312,256l-199-199a15,15 0 01 0-19l29-29a15,15 0 01 19,0l236,235a16,16 0 01 0,24l-236,235a15,15 0 01-19,0l-29-29a15,15 0 01 0-19z" /></svg>',this.config={endpoints:i.endpoints||"",additionalRequestData:i.additionalRequestData||{},additionalRequestHeaders:i.additionalRequestHeaders||{},field:i.field||"image",types:i.types||"image/*",captionPlaceholder:this.api.i18n.t("Caption"),buttonContent:i.buttonContent||"",uploader:i.uploader||void 0},this.uploader=new E({config:this.config,onUpload:function(u){return g.onUpload(u)},onError:function(u){return g.uploadingFailed(u)}})}return f()(h,[{key:"render",value:function(){if(this.wrapper=c("div",[this.CSS.wrapper]),this.list=c("div",[this.CSS.list]),this.addButton=this.createAddButton(),this.list.appendChild(this.addButton),this.wrapper.appendChild(this.list),this.data.length>0){console.log("load_item render",this.data);var p=!0,g=!1,t=void 0;try{for(var i,w=this.data[Symbol.iterator]();!(p=(i=w.next()).done);p=!0){var u=i.value,m=this.creteNewItem(u.url,u.caption,u.thumbnails);this.list.insertBefore(m,this.addButton)}}catch(T){g=!0,t=T}finally{try{p||w.return==null||w.return()}finally{if(g)throw t}}}return this.wrapper}},{key:"save",value:function(p){var g=p.getElementsByClassName(this.CSS.item),t=[];if(g.length>0){var i=!0,w=!1,u=void 0;try{for(var m,T=g[Symbol.iterator]();!(i=(m=T.next()).done);i=!0){var L=m.value;L.firstChild.value&&(t.push({thumbnails:L.querySelector(".thumbnail-input").value!==void 0?L.querySelector(".thumbnail-input").value:"foo",url:L.firstChild.value,caption:L.lastChild.value}),console.log(t))}}catch(B){w=!0,u=B}finally{try{i||T.return==null||T.return()}finally{if(w)throw u}}}return t}},{key:"creteNewItem",value:function(p,g,t){var i=c("div",[this.CSS.block]),w=c("div",[this.CSS.item]),u=c("div",[this.CSS.removeBtn]),m=c("div",[this.CSS.leftBtn]),T=c("div",[this.CSS.rightBtn]),L=c("input",[this.CSS.inputUrl]),B=c("input",["hidden","thumbnail-input"]),k=c("div",[this.CSS.imagePreloader]);return L.value=p,B.value=t,m.innerHTML=this.IconLeft,m.style="padding: 8px;",m.addEventListener("click",function(){var O=Array.from(i.parentNode.children).indexOf(i);O!=0&&i.parentNode.insertBefore(i,i.parentNode.children[O-1])}),T.innerHTML=this.IconRight,T.style="padding: 8px;",T.addEventListener("click",function(){var O=Array.from(i.parentNode.children).indexOf(i);O!=i.parentNode.children.length-2&&i.parentNode.insertBefore(i,i.parentNode.children[O+2])}),u.innerHTML=this.IconClose,u.addEventListener("click",function(){i.remove()}),u.style.display="none",w.appendChild(L),w.appendChild(B),w.appendChild(u),w.appendChild(m),w.appendChild(T),i.appendChild(w),p?this._createImage(p,w,g,u,t):w.appendChild(k),i}},{key:"_createImage",value:function(p,g,t,i,w){var u=document.createElement("img"),m=c("input",[this.CSS.caption,this.CSS.input]);u.src=p,w&&(g.querySelector(".thumbnail-input").value=w),t&&(m.value=t),m.placeholder=this.config.captionPlaceholder,console.log(i),i.style.display="flex",g.appendChild(u),g.appendChild(m)}},{key:"onUpload",value:function(p){p.success&&p.file?(this._createImage(p.file.url,this.list.childNodes[this.list.childNodes.length-2].firstChild,"",this.list.childNodes[this.list.childNodes.length-2].firstChild.childNodes[2],p.file.thumbnails),this.list.childNodes[this.list.childNodes.length-2].firstChild.childNodes[2].style.backgroundImage="",this.list.childNodes[this.list.childNodes.length-2].firstChild.firstChild.value=p.file.url,this.list.childNodes[this.list.childNodes.length-2].firstChild.classList.add("cdxcarousel-item--empty")):this.uploadingFailed("incorrect response: "+JSON.stringify(p))}},{key:"uploadingFailed",value:function(p){console.log("Gallery : uploading failed because of",p),this.api.notifier.show({message:this.api.i18n.t("Can not upload an image, try another"),style:"error"})}},{key:"showPreloader",value:function(p){this.nodes.imagePreloader.style.backgroundImage="url(".concat(p,")")}},{key:"onSelectFile",value:function(){var p=this;this.uploader.uploadSelectedFile({onPreview:function(g){var t=p.creteNewItem("","");t.firstChild.lastChild.style.backgroundImage="url(".concat(g,")"),console.log("preload",t.firstChild.lastChild),p.list.insertBefore(t,p.addButton),console.log(g)}})}},{key:"createAddButton",value:function(){var p=this,g=c("div",[this.CSS.button,this.CSS.addButton]),t=c("div",[this.CSS.block]);return g.innerHTML="".concat(a.a," Add Image"),g.addEventListener("click",function(){p.onSelectFile()}),t.appendChild(g),t}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"cdxcarousel-wrapper",addButton:"cdxcarousel-addImage",block:"cdxcarousel-block",item:"cdxcarousel-item",removeBtn:"cdxcarousel-removeBtn",leftBtn:"cdxcarousel-leftBtn",rightBtn:"cdxcarousel-rightBtn",inputUrl:"cdxcarousel-inputUrl",caption:"cdxcarousel-caption",list:"cdxcarousel-list",imagePreloader:"image-tool__image-preloader"}}}],[{key:"toolbox",get:function(){return{title:"Carousel",icon:'<svg width="38" height="18" viewBox="0 0 38 18" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="10" y="0" width="18" height="18"><path fill-rule="evenodd" clip-rule="evenodd" d="M28 16V2C28 0.9 27.1 0 26 0H12C10.9 0 10 0.9 10 2V16C10 17.1 10.9 18 12 18H26C27.1 18 28 17.1 28 16V16ZM15.5 10.5L18 13.51L21.5 9L26 15H12L15.5 10.5V10.5Z"  /></mask><g mask="url(#mask0)"><rect x="10" width="18" height="18"  /></g><mask id="mask1" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="3" width="7" height="12"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.59L2.67341 9L7 4.41L5.66802 3L0 9L5.66802 15L7 13.59Z" fill="white"/></mask><g mask="url(#mask1)"><rect y="3" width="7.55735" height="12"  /></g><mask id="mask2" mask-type="alpha" maskUnits="userSpaceOnUse" x="31" y="3" width="7" height="12"><path fill-rule="evenodd" clip-rule="evenodd" d="M31 13.59L35.3266 9L31 4.41L32.332 3L38 9L32.332 15L31 13.59Z" fill="white"/></mask><g mask="url(#mask2)"><rect x="30.4426" y="2.25" width="7.55735" height="13" /></g></svg>'}}}]),h}(),c=function(h){var p,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=document.createElement(h);Array.isArray(g)?(p=i.classList).add.apply(p,s()(g)):g&&i.classList.add(g);for(var w in t)i[w]=t[w];return i}}]).default})})($);var Q=q($.exports),J={exports:{}};(function(N,U){(function(A,I){N.exports=I()})(self,()=>(()=>{var A={771:(s,r,o)=>{o.d(r,{Z:()=>y});var n=o(645),f=o.n(n)()(function(l){return l[1]});f.push([s.id,`.cdx-block-width--wide .ce-block__content,
.md\\:pt-2 .cdx-block-width--wide .ce-block__content {
    max-width: 80%;
}

.cdx-block-width--full .ce-block__content,
.md\\:pt-2 .cdx-block-width--full .ce-block__content {
    max-width: none;
}
`,""]);const y=f},645:s=>{s.exports=function(r){var o=[];return o.toString=function(){return this.map(function(n){var f=r(n);return n[2]?"@media ".concat(n[2]," {").concat(f,"}"):f}).join("")},o.i=function(n,f,y){typeof n=="string"&&(n=[[null,n,""]]);var l={};if(y)for(var d=0;d<this.length;d++){var S=this[d][0];S!=null&&(l[S]=!0)}for(var E=0;E<n.length;E++){var _=[].concat(n[E]);y&&l[_[0]]||(f&&(_[2]?_[2]="".concat(f," and ").concat(_[2]):_[2]=f),o.push(_))}},o}},379:(s,r,o)=>{var n,f=function(){var p={};return function(g){if(p[g]===void 0){var t=document.querySelector(g);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch{t=null}p[g]=t}return p[g]}}(),y=[];function l(p){for(var g=-1,t=0;t<y.length;t++)if(y[t].identifier===p){g=t;break}return g}function d(p,g){for(var t={},i=[],w=0;w<p.length;w++){var u=p[w],m=g.base?u[0]+g.base:u[0],T=t[m]||0,L="".concat(m," ").concat(T);t[m]=T+1;var B=l(L),k={css:u[1],media:u[2],sourceMap:u[3]};B!==-1?(y[B].references++,y[B].updater(k)):y.push({identifier:L,updater:h(k,g),references:1}),i.push(L)}return i}function S(p){var g=document.createElement("style"),t=p.attributes||{};if(t.nonce===void 0){var i=o.nc;i&&(t.nonce=i)}if(Object.keys(t).forEach(function(u){g.setAttribute(u,t[u])}),typeof p.insert=="function")p.insert(g);else{var w=f(p.insert||"head");if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(g)}return g}var E,_=(E=[],function(p,g){return E[p]=g,E.filter(Boolean).join(`
`)});function x(p,g,t,i){var w=t?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(p.styleSheet)p.styleSheet.cssText=_(g,w);else{var u=document.createTextNode(w),m=p.childNodes;m[g]&&p.removeChild(m[g]),m.length?p.insertBefore(u,m[g]):p.appendChild(u)}}function a(p,g,t){var i=t.css,w=t.media,u=t.sourceMap;if(w?p.setAttribute("media",w):p.removeAttribute("media"),u&&typeof btoa!="undefined"&&(i+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(u))))," */")),p.styleSheet)p.styleSheet.cssText=i;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(i))}}var e=null,c=0;function h(p,g){var t,i,w;if(g.singleton){var u=c++;t=e||(e=S(g)),i=x.bind(null,t,u,!1),w=x.bind(null,t,u,!0)}else t=S(g),i=a.bind(null,t,g),w=function(){(function(m){if(m.parentNode===null)return!1;m.parentNode.removeChild(m)})(t)};return i(p),function(m){if(m){if(m.css===p.css&&m.media===p.media&&m.sourceMap===p.sourceMap)return;i(p=m)}else w()}}s.exports=function(p,g){(g=g||{}).singleton||typeof g.singleton=="boolean"||(g.singleton=(n===void 0&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var t=d(p=p||[],g);return function(i){if(i=i||[],Object.prototype.toString.call(i)==="[object Array]"){for(var w=0;w<t.length;w++){var u=l(t[w]);y[u].references--}for(var m=d(i,g),T=0;T<t.length;T++){var L=l(t[T]);y[L].references===0&&(y[L].updater(),y.splice(L,1))}t=m}}}},729:s=>{s.exports='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="components-menu-items__item-icon" role="img" aria-hidden="true" focusable="false"><path d="M5 4v11h14V4H5zm3 15.8h8v-1.5H8v1.5z"></path></svg>'},211:s=>{s.exports='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="components-menu-items__item-icon" role="img" aria-hidden="true" focusable="false"><path d="M5 9v6h14V9H5zm11-4.8H8v1.5h8V4.2zM8 19.8h8v-1.5H8v1.5z"></path></svg>'}},I={};function b(s){var r=I[s];if(r!==void 0)return r.exports;var o=I[s]={id:s,exports:{}};return A[s](o,o.exports,b),o.exports}b.n=s=>{var r=s&&s.__esModule?()=>s.default:()=>s;return b.d(r,{a:r}),r},b.d=(s,r)=>{for(var o in r)b.o(r,o)&&!b.o(s,o)&&Object.defineProperty(s,o,{enumerable:!0,get:r[o]})},b.o=(s,r)=>Object.prototype.hasOwnProperty.call(s,r),b.nc=void 0;var v={};return(()=>{b.d(v,{default:()=>S});var s=b(379),r=b.n(s),o=b(771);function n(E,_=null,x={}){const a=document.createElement(E);Array.isArray(_)?a.classList.add(..._):_&&a.classList.add(_);for(const e in x)a[e]=x[e];return a}r()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;var f=b(729),y=b.n(f),l=b(211),d=b.n(l);class S{constructor({api:_,data:x,config:a,block:e}){this.api=_,this.data=x,this.config=a,this.block=e,this.variants=[{name:"wide",icon:y(),title:this.api.i18n.t("Wide width")},{name:"full",icon:d(),title:this.api.i18n.t("Full width")}],this.wrapper=void 0}static get isTune(){return!0}static get CSS(){return{toggler:"cdx-block-width__toggler"}}render(){const _=n("div","");return this.variants.forEach(({name:x,icon:a,title:e})=>{const c=n("div",[this.api.styles.settingsButton,S.CSS.toggler],{innerHTML:a});c.dataset.name=x,this.api.tooltip.onHover(c,e,{placement:"top",hidingDelay:500}),_.appendChild(c)}),this.api.listeners.on(_,"click",x=>{this.tuneClicked(x)}),_}tuneClicked(_){const x=_.target.closest(`.${this.api.styles.settingsButton}`),a=x.classList.contains(this.api.styles.settingsButtonActive);x.parentElement.querySelectorAll(`.${this.api.styles.settingsButton}`).forEach(e=>{e.classList.toggle(this.api.styles.settingsButtonActive,!1)}),x.classList.toggle(this.api.styles.settingsButtonActive,!a),this.variant=a?"":x.dataset.name}wrap(_){return this.wrapper=n("div"),this.variant=this.data,this.wrapper.appendChild(_),this.wrapper}set variant(_){this.data=_,this.variants.forEach(x=>{this.wrapper.classList.toggle(`cdx-block-width--${x.name}`,x.name===this.data)})}save(){return this.data||""}}})(),v.default})())})(J);var Y=q(J.exports),V={exports:{}};(function(N,U){(function(A,I){N.exports=I()})(window,function(){return function(A){var I={};function b(v){if(I[v])return I[v].exports;var s=I[v]={i:v,l:!1,exports:{}};return A[v].call(s.exports,s,s.exports,b),s.l=!0,s.exports}return b.m=A,b.c=I,b.d=function(v,s,r){b.o(v,s)||Object.defineProperty(v,s,{enumerable:!0,get:r})},b.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},b.t=function(v,s){if(1&s&&(v=b(v)),8&s||4&s&&typeof v=="object"&&v&&v.__esModule)return v;var r=Object.create(null);if(b.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:v}),2&s&&typeof v!="string")for(var o in v)b.d(r,o,function(n){return v[n]}.bind(null,o));return r},b.n=function(v){var s=v&&v.__esModule?function(){return v.default}:function(){return v};return b.d(s,"a",s),s},b.o=function(v,s){return Object.prototype.hasOwnProperty.call(v,s)},b.p="/",b(b.s=0)}([function(A,I,b){function v(n){return function(f){if(Array.isArray(f)){for(var y=0,l=new Array(f.length);y<f.length;y++)l[y]=f[y];return l}}(n)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(n,f){for(var y=0;y<f.length;y++){var l=f[y];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function r(n,f,y){return f&&s(n.prototype,f),y&&s(n,y),n}b(1).toString();var o=function(){function n(f){var y=f.data,l=f.config,d=f.api,S=f.readOnly;(function(x,a){if(!(x instanceof a))throw new TypeError("Cannot call a class as a function")})(this,n);var E=n.ALIGNMENTS,_=n.DEFAULT_ALIGNMENT;this.api=d,this.readOnly=S,this.quotePlaceholder=l.quotePlaceholder||n.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=l.captionPlaceholder||n.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:y.text||"",caption:y.caption||"",alignment:Object.values(E).includes(y.alignment)&&y.alignment||l.defaultAlignment||_}}return r(n,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption",settingsWrapper:"cdx-quote-settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg width="16" height="11" viewBox="0 0 16 11" xmlns="http://www.w3.org/2000/svg" ><path d="M1.069 0H13.33a1.069 1.069 0 0 1 0 2.138H1.07a1.069 1.069 0 1 1 0-2.138zm0 4.275H9.03a1.069 1.069 0 1 1 0 2.137H1.07a1.069 1.069 0 1 1 0-2.137zm0 4.275h9.812a1.069 1.069 0 0 1 0 2.137H1.07a1.069 1.069 0 0 1 0-2.137z" /></svg>'},{name:"center",icon:'<svg width="16" height="11" viewBox="0 0 16 11" xmlns="http://www.w3.org/2000/svg" ><path d="M1.069 0H13.33a1.069 1.069 0 0 1 0 2.138H1.07a1.069 1.069 0 1 1 0-2.138zm3.15 4.275h5.962a1.069 1.069 0 0 1 0 2.137H4.22a1.069 1.069 0 1 1 0-2.137zM1.069 8.55H13.33a1.069 1.069 0 0 1 0 2.137H1.07a1.069 1.069 0 0 1 0-2.137z"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><path d="M13.53 6.185l.027.025a1.109 1.109 0 0 1 0 1.568l-5.644 5.644a1.109 1.109 0 1 1-1.569-1.568l4.838-4.837L6.396 2.23A1.125 1.125 0 1 1 7.986.64l5.52 5.518.025.027zm-5.815 0l.026.025a1.109 1.109 0 0 1 0 1.568l-5.644 5.644a1.109 1.109 0 1 1-1.568-1.568l4.837-4.837L.58 2.23A1.125 1.125 0 0 1 2.171.64L7.69 6.158l.025.027z" /></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return n.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(f){return f.caption?"".concat(f.text," \u2014 ").concat(f.caption):f.text}}}}]),r(n,[{key:"render",value:function(){var f=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),y=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),l=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return y.dataset.placeholder=this.quotePlaceholder,l.dataset.placeholder=this.captionPlaceholder,f.appendChild(y),f.appendChild(l),f}},{key:"save",value:function(f){var y=f.querySelector(".".concat(this.CSS.text)),l=f.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:y.innerHTML,caption:l.innerHTML})}},{key:"renderSettings",value:function(){var f=this,y=this._make("div",[this.CSS.settingsWrapper],{});return this.settings.map(function(l){var d,S=f._make("div",f.CSS.settingsButton,{innerHTML:l.icon,title:"".concat((d=l.name,d[0].toUpperCase()+d.substr(1))," alignment")});return S.classList.toggle(f.CSS.settingsButtonActive,l.name===f.data.alignment),y.appendChild(S),S}).forEach(function(l,d,S){l.addEventListener("click",function(){f._toggleTune(f.settings[d].name),S.forEach(function(E,_){var x=f.settings[_].name;E.classList.toggle(f.CSS.settingsButtonActive,x===f.data.alignment)})})}),y}},{key:"_toggleTune",value:function(f){this.data.alignment=f}},{key:"_make",value:function(f){var y,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=document.createElement(f);Array.isArray(l)?(y=S.classList).add.apply(y,v(l)):l&&S.classList.add(l);for(var E in d)S[E]=d[E];return S}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),n}();A.exports=o},function(A,I,b){var v=b(2);typeof v=="string"&&(v=[[A.i,v,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};b(4)(v,s),v.locals&&(A.exports=v.locals)},function(A,I,b){(A.exports=b(3)(!1)).push([A.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(A,I){A.exports=function(b){var v=[];return v.toString=function(){return this.map(function(s){var r=function(o,n){var f=o[1]||"",y=o[3];if(!y)return f;if(n&&typeof btoa=="function"){var l=(S=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(S))))+" */"),d=y.sources.map(function(E){return"/*# sourceURL="+y.sourceRoot+E+" */"});return[f].concat(d).concat([l]).join(`
`)}var S;return[f].join(`
`)}(s,b);return s[2]?"@media "+s[2]+"{"+r+"}":r}).join("")},v.i=function(s,r){typeof s=="string"&&(s=[[null,s,""]]);for(var o={},n=0;n<this.length;n++){var f=this[n][0];typeof f=="number"&&(o[f]=!0)}for(n=0;n<s.length;n++){var y=s[n];typeof y[0]=="number"&&o[y[0]]||(r&&!y[2]?y[2]=r:r&&(y[2]="("+y[2]+") and ("+r+")"),v.push(y))}},v}},function(A,I,b){var v,s,r={},o=(v=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=v.apply(this,arguments)),s}),n=function(t){var i={};return function(w){if(typeof w=="function")return w();if(i[w]===void 0){var u=function(m){return document.querySelector(m)}.call(this,w);if(window.HTMLIFrameElement&&u instanceof window.HTMLIFrameElement)try{u=u.contentDocument.head}catch{u=null}i[w]=u}return i[w]}}(),f=null,y=0,l=[],d=b(5);function S(t,i){for(var w=0;w<t.length;w++){var u=t[w],m=r[u.id];if(m){m.refs++;for(var T=0;T<m.parts.length;T++)m.parts[T](u.parts[T]);for(;T<u.parts.length;T++)m.parts.push(c(u.parts[T],i))}else{var L=[];for(T=0;T<u.parts.length;T++)L.push(c(u.parts[T],i));r[u.id]={id:u.id,refs:1,parts:L}}}}function E(t,i){for(var w=[],u={},m=0;m<t.length;m++){var T=t[m],L=i.base?T[0]+i.base:T[0],B={css:T[1],media:T[2],sourceMap:T[3]};u[L]?u[L].parts.push(B):w.push(u[L]={id:L,parts:[B]})}return w}function _(t,i){var w=n(t.insertInto);if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var u=l[l.length-1];if(t.insertAt==="top")u?u.nextSibling?w.insertBefore(i,u.nextSibling):w.appendChild(i):w.insertBefore(i,w.firstChild),l.push(i);else if(t.insertAt==="bottom")w.appendChild(i);else{if(typeof t.insertAt!="object"||!t.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var m=n(t.insertInto+" "+t.insertAt.before);w.insertBefore(i,m)}}function x(t){if(t.parentNode===null)return!1;t.parentNode.removeChild(t);var i=l.indexOf(t);i>=0&&l.splice(i,1)}function a(t){var i=document.createElement("style");return t.attrs.type===void 0&&(t.attrs.type="text/css"),e(i,t.attrs),_(t,i),i}function e(t,i){Object.keys(i).forEach(function(w){t.setAttribute(w,i[w])})}function c(t,i){var w,u,m,T;if(i.transform&&t.css){if(!(T=i.transform(t.css)))return function(){};t.css=T}if(i.singleton){var L=y++;w=f||(f=a(i)),u=g.bind(null,w,L,!1),m=g.bind(null,w,L,!0)}else t.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(w=function(B){var k=document.createElement("link");return B.attrs.type===void 0&&(B.attrs.type="text/css"),B.attrs.rel="stylesheet",e(k,B.attrs),_(B,k),k}(i),u=function(B,k,O){var C=O.css,j=O.sourceMap,F=k.convertToAbsoluteUrls===void 0&&j;(k.convertToAbsoluteUrls||F)&&(C=d(C)),j&&(C+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(j))))+" */");var M=new Blob([C],{type:"text/css"}),R=B.href;B.href=URL.createObjectURL(M),R&&URL.revokeObjectURL(R)}.bind(null,w,i),m=function(){x(w),w.href&&URL.revokeObjectURL(w.href)}):(w=a(i),u=function(B,k){var O=k.css,C=k.media;if(C&&B.setAttribute("media",C),B.styleSheet)B.styleSheet.cssText=O;else{for(;B.firstChild;)B.removeChild(B.firstChild);B.appendChild(document.createTextNode(O))}}.bind(null,w),m=function(){x(w)});return u(t),function(B){if(B){if(B.css===t.css&&B.media===t.media&&B.sourceMap===t.sourceMap)return;u(t=B)}else m()}}A.exports=function(t,i){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(i=i||{}).attrs=typeof i.attrs=="object"?i.attrs:{},i.singleton||typeof i.singleton=="boolean"||(i.singleton=o()),i.insertInto||(i.insertInto="head"),i.insertAt||(i.insertAt="bottom");var w=E(t,i);return S(w,i),function(u){for(var m=[],T=0;T<w.length;T++){var L=w[T];(B=r[L.id]).refs--,m.push(B)}for(u&&S(E(u,i),i),T=0;T<m.length;T++){var B;if((B=m[T]).refs===0){for(var k=0;k<B.parts.length;k++)B.parts[k]();delete r[B.id]}}}};var h,p=(h=[],function(t,i){return h[t]=i,h.filter(Boolean).join(`
`)});function g(t,i,w,u){var m=w?"":u.css;if(t.styleSheet)t.styleSheet.cssText=p(i,m);else{var T=document.createTextNode(m),L=t.childNodes;L[i]&&t.removeChild(L[i]),L.length?t.insertBefore(T,L[i]):t.appendChild(T)}}},function(A,I){A.exports=function(b){var v=typeof window!="undefined"&&window.location;if(!v)throw new Error("fixUrls requires window.location");if(!b||typeof b!="string")return b;var s=v.protocol+"//"+v.host,r=s+v.pathname.replace(/\/[^\/]*$/,"/");return b.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(o,n){var f,y=n.trim().replace(/^"(.*)"$/,function(l,d){return d}).replace(/^'(.*)'$/,function(l,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?o:(f=y.indexOf("//")===0?y:y.indexOf("/")===0?s+y:r+y.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}}])})})(V);var tt=q(V.exports),K={exports:{}};(function(N,U){(function(A,I){N.exports=I()})(self,function(){return(()=>{var A={424:(s,r,o)=>{o.d(r,{Z:()=>d});var n=o(81),f=o.n(n),y=o(645),l=o.n(y)()(f());l.push([s.id,`.toggle-block__selector > div {
  vertical-align: middle;
  display: inline-block;
  padding: 1% 0 1% 0;
  outline: none;
  border: none;
  width: 90%;
}

.toggle-block__selector br {
  display: none;
}

.toggle-block__icon > svg {
  vertical-align: middle;
  width: 15px;
  height: auto;
}

.toggle-block__icon:hover {
  color: #388ae5;
  cursor: pointer;
}

.bi-play-fill {
  width: 34px;
  height: 34px;
}

.toggle-block__input {
  margin-left: 5px;
}

.toggle-block__input:empty:before {
  content: attr(placeholder);
  position: absolute;
  color: gray;
  background-color: transparent;
}

.toggle-block__content-default {
  margin-left: 20px;
}

.toggle-block__item {
  margin-left: 39px;
}

.toggle-block__content-default {
  color: gray;
  border-radius: 5px;
}

.toggle-block__content-default:hover {
  cursor: pointer;
  background: rgba(55, 53, 47, 0.08);
}

div.toggle-block__hidden {
  display: none;
}
`,""]);const d=l},645:s=>{s.exports=function(r){var o=[];return o.toString=function(){return this.map(function(n){var f="",y=n[5]!==void 0;return n[4]&&(f+="@supports (".concat(n[4],") {")),n[2]&&(f+="@media ".concat(n[2]," {")),y&&(f+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),f+=r(n),y&&(f+="}"),n[2]&&(f+="}"),n[4]&&(f+="}"),f}).join("")},o.i=function(n,f,y,l,d){typeof n=="string"&&(n=[[null,n,void 0]]);var S={};if(y)for(var E=0;E<this.length;E++){var _=this[E][0];_!=null&&(S[_]=!0)}for(var x=0;x<n.length;x++){var a=[].concat(n[x]);y&&S[a[0]]||(d!==void 0&&(a[5]===void 0||(a[1]="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {").concat(a[1],"}")),a[5]=d),f&&(a[2]&&(a[1]="@media ".concat(a[2]," {").concat(a[1],"}")),a[2]=f),l&&(a[4]?(a[1]="@supports (".concat(a[4],") {").concat(a[1],"}"),a[4]=l):a[4]="".concat(l)),o.push(a))}},o}},81:s=>{s.exports=function(r){return r[1]}},379:s=>{var r=[];function o(y){for(var l=-1,d=0;d<r.length;d++)if(r[d].identifier===y){l=d;break}return l}function n(y,l){for(var d={},S=[],E=0;E<y.length;E++){var _=y[E],x=l.base?_[0]+l.base:_[0],a=d[x]||0,e="".concat(x," ").concat(a);d[x]=a+1;var c=o(e),h={css:_[1],media:_[2],sourceMap:_[3],supports:_[4],layer:_[5]};if(c!==-1)r[c].references++,r[c].updater(h);else{var p=f(h,l);l.byIndex=E,r.splice(E,0,{identifier:e,updater:p,references:1})}S.push(e)}return S}function f(y,l){var d=l.domAPI(l);return d.update(y),function(S){if(S){if(S.css===y.css&&S.media===y.media&&S.sourceMap===y.sourceMap&&S.supports===y.supports&&S.layer===y.layer)return;d.update(y=S)}else d.remove()}}s.exports=function(y,l){var d=n(y=y||[],l=l||{});return function(S){S=S||[];for(var E=0;E<d.length;E++){var _=o(d[E]);r[_].references--}for(var x=n(S,l),a=0;a<d.length;a++){var e=o(d[a]);r[e].references===0&&(r[e].updater(),r.splice(e,1))}d=x}}},569:s=>{var r={};s.exports=function(o,n){var f=function(y){if(r[y]===void 0){var l=document.querySelector(y);if(window.HTMLIFrameElement&&l instanceof window.HTMLIFrameElement)try{l=l.contentDocument.head}catch{l=null}r[y]=l}return r[y]}(o);if(!f)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");f.appendChild(n)}},216:s=>{s.exports=function(r){var o=document.createElement("style");return r.setAttributes(o,r.attributes),r.insert(o,r.options),o}},565:(s,r,o)=>{s.exports=function(n){var f=o.nc;f&&n.setAttribute("nonce",f)}},795:s=>{s.exports=function(r){var o=r.insertStyleElement(r);return{update:function(n){(function(f,y,l){var d="";l.supports&&(d+="@supports (".concat(l.supports,") {")),l.media&&(d+="@media ".concat(l.media," {"));var S=l.layer!==void 0;S&&(d+="@layer".concat(l.layer.length>0?" ".concat(l.layer):""," {")),d+=l.css,S&&(d+="}"),l.media&&(d+="}"),l.supports&&(d+="}");var E=l.sourceMap;E&&typeof btoa!="undefined"&&(d+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(E))))," */")),y.styleTagTransform(d,f,y.options)})(o,r,n)},remove:function(){(function(n){if(n.parentNode===null)return!1;n.parentNode.removeChild(n)})(o)}}}},589:s=>{s.exports=function(r,o){if(o.styleSheet)o.styleSheet.cssText=r;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(r))}}},370:s=>{s.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path></svg>'}},I={};function b(s){var r=I[s];if(r!==void 0)return r.exports;var o=I[s]={id:s,exports:{}};return A[s](o,o.exports,b),o.exports}b.n=s=>{var r=s&&s.__esModule?()=>s.default:()=>s;return b.d(r,{a:r}),r},b.d=(s,r)=>{for(var o in r)b.o(r,o)&&!b.o(s,o)&&Object.defineProperty(s,o,{enumerable:!0,get:r[o]})},b.o=(s,r)=>Object.prototype.hasOwnProperty.call(s,r);var v={};return(()=>{b.d(v,{default:()=>L});var s=b(379),r=b.n(s),o=b(795),n=b.n(o),f=b(569),y=b.n(f),l=b(565),d=b.n(l),S=b(216),E=b.n(S),_=b(589),x=b.n(_),a=b(424),e={};e.styleTagTransform=x(),e.setAttributes=d(),e.insert=y().bind(null,"head"),e.domAPI=n(),e.insertStyleElement=E(),r()(a.Z,e),a.Z&&a.Z.locals&&a.Z.locals;var c,h=new Uint8Array(16);function p(){if(!c&&!(c=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(h)}const g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,t=function(B){return typeof B=="string"&&g.test(B)};for(var i=[],w=0;w<256;++w)i.push((w+256).toString(16).substr(1));const u=function(B,k,O){var C=(B=B||{}).random||(B.rng||p)();if(C[6]=15&C[6]|64,C[8]=63&C[8]|128,k){O=O||0;for(var j=0;j<16;++j)k[O+j]=C[j];return k}return function(F){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=(i[F[M+0]]+i[F[M+1]]+i[F[M+2]]+i[F[M+3]]+"-"+i[F[M+4]]+i[F[M+5]]+"-"+i[F[M+6]]+i[F[M+7]]+"-"+i[F[M+8]]+i[F[M+9]]+"-"+i[F[M+10]]+i[F[M+11]]+i[F[M+12]]+i[F[M+13]]+i[F[M+14]]+i[F[M+15]]).toLowerCase();if(!t(R))throw TypeError("Stringified UUID is invalid");return R}(C)};var m=b(370),T=b.n(m);class L{constructor({data:k,api:O,readOnly:C}){z(this,"getIndex",k=>Array.from(k.parentNode.children).indexOf(k));z(this,"isChild",(k,O)=>!(!k||!O)&&(k===O||[...document.querySelectorAll(`div[foreignKey="${k}"]`)].some(C=>{const j=C.querySelector(".toggle-block__selector");return!!j&&this.isChild(j.getAttribute("id"),O)})));this.data={text:k.text||"",status:k.status||"open",fk:k.fk||`fk-${u()}`,items:k.items||0},this.itemsId=[],this.api=O;const{toolbar:{close:j},blocks:{getCurrentBlockIndex:F,getBlockByIndex:M,getBlocksCount:R,move:P}}=this.api;this.close=j,this.getCurrentBlockIndex=F,this.getBlocksCount=R,this.getBlockByIndex=M,this.move=P,this.wrapper=void 0,this.readOnly=C||!1,this.addListeners(),this.addSupportForUndoAndRedoActions(),this.addSupportForDragAndDropActions()}static get toolbox(){return{title:"Toggle",icon:T()}}static get enableLineBreaks(){return!0}static get isReadOnlySupported(){return!0}createParagraphFromToggleRoot(k){if(k.code==="Enter"){const O=document.getSelection().focusOffset,C=this.api.blocks.getCurrentBlockIndex(),j=this.api.blocks.getBlockByIndex(C),{holder:F}=j,M=F.firstChild.firstChild,R=M.children[1].innerHTML,P=R.indexOf("<br>"),D=P===-1?R.length:P;this.data.status==="closed"&&(this.resolveToggleAction(),this.hideAndShowBlocks());const H=R.slice(D+4,O.focusOffset);M.children[1].innerHTML=R.slice(O.focusOffset,D),this.api.blocks.insert("paragraph",{text:H},{},C+1,1),this.setAttributesToNewBlock()}}createParagraphFromIt(){this.setAttributesToNewBlock()}setAttributesToNewBlock(k=null,O=this.wrapper.id){const C=k===null?this.api.blocks.getCurrentBlockIndex():k,j=u(),F=this.api.blocks.getBlockByIndex(C);this.itemsId.includes(F.id)||this.itemsId.splice(C-1,0,F.id);const{holder:M}=F,R=M.firstChild.firstChild;M.setAttribute("foreignKey",O),M.setAttribute("id",j),M.classList.add("toggle-block__item"),this.readOnly||(M.onkeydown=this.setEventsToNestedBlock.bind(this),R.focus())}setEventsToNestedBlock(k){if(k.code==="Enter")this.createParagraphFromIt();else{const O=this.api.blocks.getCurrentBlockIndex(),C=this.api.blocks.getBlockByIndex(O),{holder:j}=C;if(k.code==="Tab"&&k.shiftKey&&this.extractBlock(O),k.code==="Backspace"){const F=document.getSelection().focusOffset;this.removeBlock(j,C.id,F)}}}removeBlock(k,O,C){if(C===0){const j=k.nextSibling.firstChild.firstChild.innerHTML;k.firstChild.firstChild.children[1].innerHTML+=j;const F=this.itemsId.indexOf(O);this.itemsId.splice(F,1);const M=this.api.blocks.getCurrentBlockIndex();this.api.blocks.delete(M+1)}}removeAttributesFromNewBlock(k){const O=this.api.blocks.getBlockByIndex(k),{holder:C}=O;if(!this.itemsId.includes(O.id)){const j=this.itemsId.indexOf(O.id);this.itemsId.splice(j,1)}C.removeAttribute("foreignKey"),C.removeAttribute("id"),C.onkeydown={},C.onkeyup={},C.classList.remove("toggle-block__item")}createToggle(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("toggle-block__selector"),this.wrapper.id=this.data.fk;const k=document.createElement("span"),O=document.createElement("div"),C=document.createElement("div");k.classList.add("toggle-block__icon"),k.innerHTML=T(),O.classList.add("toggle-block__input"),O.setAttribute("contentEditable",!this.readOnly),O.innerHTML=this.data.text||"",this.readOnly||(O.addEventListener("keyup",this.createParagraphFromToggleRoot.bind(this)),O.addEventListener("keydown",this.removeToggle.bind(this)),O.addEventListener("focusin",()=>this.setFocusToggleRootAtTheEnd()),O.addEventListener("keyup",this.setPlaceHolder.bind(this)),O.setAttribute("placeholder","Toggle"),O.addEventListener("focus",this.setDefaultContent.bind(this)),O.addEventListener("focusout",this.setDefaultContent.bind(this)),C.addEventListener("click",this.clickInDefaultContent.bind(this)),O.addEventListener("focus",this.setNestedBlockAttributes.bind(this))),C.classList.add("toggle-block__content-default","toggle-block__hidden"),C.innerHTML="Empty toggle. Click or drop blocks inside.",this.wrapper.appendChild(k),this.wrapper.appendChild(O),this.wrapper.appendChild(C)}setFocusToggleRootAtTheEnd(){const k=document.activeElement,O=window.getSelection(),C=document.createRange();O.removeAllRanges(),C.selectNodeContents(k),C.collapse(!1),O.addRange(C),k.focus()}clickInDefaultContent(){this.api.blocks.insert(),this.setAttributesToNewBlock(),this.setDefaultContent()}setDefaultContent(){const k=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`),{firstChild:O,lastChild:C}=this.wrapper,{status:j}=this.data,F=k.length>0||j==="closed";C.classList.toggle("toggle-block__hidden",F),O.style.color=k.length===0?"gray":"black"}removeToggle(k){if(k.code==="Backspace"){const{children:O}=this.wrapper,C=O[1].innerHTML;if(document.getSelection().focusOffset===0){const j=this.api.blocks.getCurrentBlockIndex(),F=C.indexOf("<br>"),M=F===-1?C.length:F,R=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`);for(let P=1;P<R.length+1;P+=1)this.removeAttributesFromNewBlock(j+P);this.api.blocks.delete(j),this.api.blocks.insert("paragraph",{text:C.slice(0,M)},{},j,1),this.api.caret.setToBlock(j)}}}extractBlock(k){const O=this.wrapper.children[1];let C,j={};for(;j[1]!==O;){this.api.caret.setToPreviousBlock("end",0),C=this.api.blocks.getCurrentBlockIndex();const R=this.api.blocks.getBlockByIndex(C),{holder:P}=R;j=P.firstChild.firstChild.children}const F=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`),M=C+F.length;this.api.caret.setToBlock(k),F.length>1&&this.api.blocks.move(M),setTimeout(()=>this.removeAttributesFromNewBlock(M),200),this.api.toolbar.close()}setPlaceHolder(k){if(k.code==="Backspace"||k.code==="Enter"){const{children:O}=this.wrapper,{length:C}=O[1].textContent;C===0&&(O[1].textContent="")}}render(){return this.createToggle(),setTimeout(()=>this.renderItems()),setTimeout(()=>this.setInitialTransition()),this.wrapper}setInitialTransition(){const{status:k}=this.data,O=this.wrapper.firstChild.firstChild;O.style.transition="0.1s",O.style.transform=`rotate(${k==="closed"?0:90}deg)`}renderItems(){const k=this.api.blocks.getBlocksCount(),O=this.wrapper.firstChild;let C;if(this.readOnly){const j=document.getElementsByClassName("codex-editor__redactor")[0],{children:F}=j,{length:M}=F;for(let R=0;R<M;R+=1){const P=F[R].firstChild.firstChild,{id:D}=P;if(D===this.wrapper.id){C=R;break}}}else{const j=this.wrapper.children[1];let F={};for(;F[1]!==j;){C=this.api.blocks.getCurrentBlockIndex();const M=this.api.blocks.getBlockByIndex(C),{holder:R}=M;F=R.firstChild.firstChild.children,this.api.caret.setToNextBlock("end",0)}}if(C+this.data.items<k)for(let j=C+1,F=0;j<=C+this.data.items;j+=1){const M=this.api.blocks.getBlockByIndex(j),{holder:R}=M,P=R.firstChild.firstChild;if(this.isPartOfAToggle(P)){this.data.items=F;break}this.setAttributesToNewBlock(j),F+=1}else this.data.items=0;O.addEventListener("click",()=>{this.resolveToggleAction(),setTimeout(()=>{this.hideAndShowBlocks()})}),this.hideAndShowBlocks()}resolveToggleAction(){const k=this.wrapper.firstChild.firstChild;this.data.status==="closed"?(this.data.status="open",k.style.transform="rotate(90deg)"):(this.data.status="closed",k.style.transform="rotate(0deg)"),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.setAttribute("status",this.data.status)}hideAndShowBlocks(k=this.wrapper.id,O=this.data.status){const C=document.querySelectorAll(`div[foreignKey="${k}"]`),{length:j}=C;if(j>0)C.forEach(F=>{F.hidden=O==="closed";const M=F.querySelectorAll(".toggle-block__selector");if(M.length>0){const R=O==="closed"?O:F.getAttribute("status");this.hideAndShowBlocks(M[0].getAttribute("id"),R)}});else if(k===this.wrapper.id){const{lastChild:F}=this.wrapper;F.classList.toggle("toggle-block__hidden",O)}}save(k){const{children:O}=k,C=O[1].innerHTML,j=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`);return Object.assign(this.data,{text:C,items:j.length})}getDecendentsNumber(k){let O=0;return document.querySelectorAll(`div[foreignKey="${k}"]`).forEach(C=>{if(C.hasAttribute("status")){const j=C.querySelector(".toggle-block__selector").getAttribute("id");O+=this.getDecendentsNumber(j)}O+=1}),O}highlightToggleItems(k){document.querySelectorAll(`div[foreignKey="${k}"]`).forEach(O=>{if(O.classList.add("ce-block--selected"),O.hasAttribute("status")){const C=O.querySelector(".toggle-block__selector").getAttribute("id");this.highlightToggleItems(C)}})}renderSettings(){const k=document.getElementsByClassName("ce-settings--opened")[0].lastChild,O=this.api.blocks.getCurrentBlockIndex();this.highlightToggleItems(this.wrapper.id),setTimeout(()=>{this.addEventsMoveButtons("ce-tune-move-down",0,k,O),this.addEventsMoveButtons("ce-tune-move-up",1,k,O);const C=k.getElementsByClassName("ce-settings__button--delete")[0];C&&C.addEventListener("click",()=>{const j=C.classList;Object.values(j).indexOf("clicked-to-destroy-toggle")===-1?C.classList.add("clicked-to-destroy-toggle"):this.removeFullToggle(O)})})}addEventsMoveButtons(k,O,C,j){const F=C.getElementsByClassName(k);if(!F.length)return;const M=F[0];M&&M.addEventListener("click",()=>{this.moveToggle(j,O)})}moveToggle(k,O){if(!this.readOnly){this.close();const C=this.getCurrentBlockIndex(),j=this.getDecendentsNumber(this.wrapper.id),F=this.getBlocksCount(),M=k+j;this.move(k,C),k>=0&&M<=F-1&&(O===0?this.moveDown(k,M):this.moveUp(k,M))}}moveDown(k,O){const C=O+1,j=this.getBlockByIndex(C),{holder:F}=j;if(this.move(k,C),j.name==="toggle"){const M=F.querySelector(".toggle-block__selector").getAttribute("id"),R=this.getDecendentsNumber(M);this.moveDecendents(R,k+1,C+1,0)}}moveUp(k,O){const C=k-1,j=this.getBlockByIndex(C);if(j.name==="toggle")return;const{holder:F}=j;if(F.hasAttribute("foreignKey")){const M=this.getBlockByIndex(k).holder.getAttribute("foreignKey"),R=F.getAttribute("foreignKey");if(R!==M){const P=this.findIndexOfParentBlock(M,R,k),D=this.getBlockByIndex(P).holder.querySelector(".toggle-block__selector").getAttribute("id"),H=this.getDecendentsNumber(D);return this.move(O,P),void this.moveDecendents(H,O,P,1)}}this.move(O,C)}findIndexOfParentBlock(k,O,C){const j=C-(this.getDecendentsNumber(O)+1),F=this.getBlockByIndex(j).holder;if(F.hasAttribute("foreignKey")){const M=F.getAttribute("foreignKey");if(M!==k){const R=this.getBlockByIndex(j-1).holder;if(R.hasAttribute("foreignKey")){const P=R.getAttribute("foreignKey");if(P!==M)return this.findIndexOfParentBlock(k,P,j)}}}return j}moveDecendents(k,O,C,j){let F=C,M=O;for(;k;)this.move(M,F),j===0&&(F+=1,M+=1),k-=1}removeFullToggle(k){const O=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`),{length:C}=O;for(let j=k;j<k+C;j+=1)this.api.blocks.delete(k)}addListeners(){this.readOnly||document.activeElement.addEventListener("keyup",k=>{const O=document.activeElement,C=this.api.blocks.getCurrentBlockIndex(),j=O.parentElement.parentElement;k.code==="Space"?this.createToggleWithShortcut(O):C>0&&!this.isPartOfAToggle(O)&&!this.isPartOfAToggle(j)&&k.code==="Tab"&&this.nestBlock(O)})}addSupportForUndoAndRedoActions(){if(!this.readOnly){const k=document.querySelector("div.codex-editor__redactor"),O={attributes:!0,childList:!0,characterData:!0};new MutationObserver(C=>{C.forEach(j=>{j.type==="childList"&&setTimeout(this.restoreItemAttributes.bind(this,j))})}).observe(k,O)}}addSupportForDragAndDropActions(){if(!this.readOnly){if(this.wrapper===void 0)return void setTimeout(()=>this.addSupportForDragAndDropActions(),250);document.querySelector(`#${this.wrapper.id}`).parentNode.parentNode.setAttribute("status",this.data.status);const k=document.querySelector(".ce-toolbar__settings-btn");k.setAttribute("draggable","true"),k.addEventListener("dragstart",()=>{this.startBlock=this.api.blocks.getCurrentBlockIndex(),this.nameDragged=this.api.blocks.getBlockByIndex(this.startBlock).name,this.holderDragged=this.api.blocks.getBlockByIndex(this.startBlock).holder}),document.addEventListener("drop",O=>{const{target:C}=O;if(document.contains(C)){const j=C.classList.contains("ce-block")?C:C.closest(".ce-block");if(j&&j!==this.holderDragged){let F=this.getIndex(j);F=this.startBlock<F?F+1:F;const M=j.querySelectorAll(".toggle-block__selector").length>0||j.getAttribute("foreignKey")!==null;setTimeout(()=>{var R;if(this.nameDragged==="toggle"){const P=this.holderDragged.querySelector(`#${this.wrapper.id}`);if(P)if(this.isChild(P.getAttribute("id"),j.getAttribute("foreignKey"))){if(this.startBlock===F?this.api.blocks.move(this.startBlock+1,F):this.api.blocks.move(this.startBlock,F),!M){const D=this.getIndex(this.holderDragged);this.removeAttributesFromNewBlock(D)}}else{if(M){const D=(R=j.getAttribute("foreignKey"))!=null?R:j.querySelector(".toggle-block__selector").getAttribute("id"),H=this.getIndex(this.holderDragged);this.setAttributesToNewBlock(H,D)}this.moveChildren(F)}}if(!M){const P=this.getIndex(this.holderDragged);this.removeAttributesFromNewBlock(P)}})}}})}}moveChildren(k,O=this.wrapper.id){let C=document.querySelectorAll(`div[foreignKey="${O}"]`);C=this.startBlock>=k?[...C].reverse():C,C.forEach(j=>{const F=this.getIndex(j);this.api.blocks.move(k,F);const M=j.querySelectorAll(".toggle-block__selector");if(M.length>0){const R=this.getIndex(j),P=this.startBlock<k?0:1;M.forEach(H=>this.moveChildren(R+P,H.getAttribute("id")));const D=Math.abs(k-R);k=this.startBlock<k?k+D:k-D}})}restoreItemAttributes(k){if(this.wrapper!==void 0){const O=this.api.blocks.getCurrentBlockIndex(),C=this.api.blocks.getBlockByIndex(O),{holder:j}=C,F=!this.isPartOfAToggle(j),M=k.removedNodes[0];if(this.itemsId.includes(C.id)&&F)this.setAttributesToNewBlock(O);else if(M&&this.isPartOfAToggle(M)&&F){const R=j.firstChild.firstChild;this.isPartOfAToggle(R)||(this.setAttributesToNewBlock(O),this.itemsId[O]=C.id)}}}createToggleWithShortcut(k){const O=k.textContent;if(O[0]===">"&&!this.isPartOfAToggle(k)){const C=this.api.blocks.getCurrentBlockIndex();this.api.blocks.insert("toggle",{text:O.slice(2)},this.api,C,!0),this.api.blocks.delete(C+1),this.api.caret.setToBlock(C)}}nestBlock(k){const O=k.parentElement.parentElement,C=O.previousElementSibling,j=C.firstChild.firstChild;if(this.isPartOfAToggle(j)||this.isPartOfAToggle(C)){const F=C.getAttribute("foreignKey"),M=j.getAttribute("id"),R=F||M;O.setAttribute("will-be-a-nested-block",!0),document.getElementById(R).children[1].focus()}}setNestedBlockAttributes(){const k=this.api.blocks.getCurrentBlockIndex(),O=this.api.blocks.getBlockByIndex(k),{holder:C}=O;C.getAttribute("will-be-a-nested-block")&&(C.removeAttribute("will-be-a-nested-block"),this.setAttributesToNewBlock(k),this.api.toolbar.close())}isPartOfAToggle(k){const O=Array.from(k.classList);return O.includes("toggle-block__item")||O.includes("toggle-block__input")||O.includes("toggle-block__selector")}}})(),v.default})()})})(K);var et=q(K.exports),G={exports:{}};(function(N,U){(function(A,I){N.exports=I()})(window,function(){return function(A){var I={};function b(v){if(I[v])return I[v].exports;var s=I[v]={i:v,l:!1,exports:{}};return A[v].call(s.exports,s,s.exports,b),s.l=!0,s.exports}return b.m=A,b.c=I,b.d=function(v,s,r){b.o(v,s)||Object.defineProperty(v,s,{enumerable:!0,get:r})},b.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},b.t=function(v,s){if(1&s&&(v=b(v)),8&s||4&s&&typeof v=="object"&&v&&v.__esModule)return v;var r=Object.create(null);if(b.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:v}),2&s&&typeof v!="string")for(var o in v)b.d(r,o,function(n){return v[n]}.bind(null,o));return r},b.n=function(v){var s=v&&v.__esModule?function(){return v.default}:function(){return v};return b.d(s,"a",s),s},b.o=function(v,s){return Object.prototype.hasOwnProperty.call(v,s)},b.p="/",b(b.s=10)}([function(A,I,b){A.exports=function(v){var s={};function r(o){if(s[o])return s[o].exports;var n=s[o]={i:o,l:!1,exports:{}};return v[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=v,r.c=s,r.d=function(o,n,f){r.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:f})},r.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,n){if(1&n&&(o=r(o)),8&n||4&n&&typeof o=="object"&&o&&o.__esModule)return o;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:o}),2&n&&typeof o!="string")for(var y in o)r.d(f,y,function(l){return o[l]}.bind(null,y));return f},r.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(n,"a",n),n},r.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},r.p="",r(r.s=3)}([function(v,s){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}v.exports=r},function(v,s,r){(function(o){var n=r(2),f=setTimeout;function y(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function d(e,c){for(;e._state===3;)e=e._value;e._state!==0?(e._handled=!0,l._immediateFn(function(){var h=e._state===1?c.onFulfilled:c.onRejected;if(h!==null){var p;try{p=h(e._value)}catch(g){return void E(c.promise,g)}S(c.promise,p)}else(e._state===1?S:E)(c.promise,e._value)})):e._deferreds.push(c)}function S(e,c){try{if(c===e)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var h=c.then;if(c instanceof l)return e._state=3,e._value=c,void _(e);if(typeof h=="function")return void a((p=h,g=c,function(){p.apply(g,arguments)}),e)}e._state=1,e._value=c,_(e)}catch(t){E(e,t)}var p,g}function E(e,c){e._state=2,e._value=c,_(e)}function _(e){e._state===2&&e._deferreds.length===0&&l._immediateFn(function(){e._handled||l._unhandledRejectionFn(e._value)});for(var c=0,h=e._deferreds.length;c<h;c++)d(e,e._deferreds[c]);e._deferreds=null}function x(e,c,h){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof c=="function"?c:null,this.promise=h}function a(e,c){var h=!1;try{e(function(p){h||(h=!0,S(c,p))},function(p){h||(h=!0,E(c,p))})}catch(p){if(h)return;h=!0,E(c,p)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,c){var h=new this.constructor(y);return d(this,new x(e,c,h)),h},l.prototype.finally=n.a,l.all=function(e){return new l(function(c,h){if(!e||e.length===void 0)throw new TypeError("Promise.all accepts an array");var p=Array.prototype.slice.call(e);if(p.length===0)return c([]);var g=p.length;function t(w,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var m=u.then;if(typeof m=="function")return void m.call(u,function(T){t(w,T)},h)}p[w]=u,--g==0&&c(p)}catch(T){h(T)}}for(var i=0;i<p.length;i++)t(i,p[i])})},l.resolve=function(e){return e&&typeof e=="object"&&e.constructor===l?e:new l(function(c){c(e)})},l.reject=function(e){return new l(function(c,h){h(e)})},l.race=function(e){return new l(function(c,h){for(var p=0,g=e.length;p<g;p++)e[p].then(c,h)})},l._immediateFn=typeof o=="function"&&function(e){o(e)}||function(e){f(e,0)},l._unhandledRejectionFn=function(e){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},s.a=l}).call(this,r(5).setImmediate)},function(v,s,r){s.a=function(o){var n=this.constructor;return this.then(function(f){return n.resolve(o()).then(function(){return f})},function(f){return n.resolve(o()).then(function(){return n.reject(f)})})}},function(v,s,r){function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}r(4);var n,f,y,l,d,S,E,_=r(8),x=(f=function(a){return new Promise(function(e,c){a=l(a),(a=d(a)).beforeSend&&a.beforeSend();var h=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");h.open(a.method,a.url),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(a.headers).forEach(function(g){var t=a.headers[g];h.setRequestHeader(g,t)});var p=a.ratio;h.upload.addEventListener("progress",function(g){var t=Math.round(g.loaded/g.total*100),i=Math.ceil(t*p/100);a.progress(Math.min(i,100))},!1),h.addEventListener("progress",function(g){var t=Math.round(g.loaded/g.total*100),i=Math.ceil(t*(100-p)/100)+p;a.progress(Math.min(i,100))},!1),h.onreadystatechange=function(){if(h.readyState===4){var g=h.response;try{g=JSON.parse(g)}catch{}var t=_.parseHeaders(h.getAllResponseHeaders()),i={body:g,code:h.status,headers:t};E(h.status)?e(i):c(i)}},h.send(a.data)})},y=function(a){return a.method="POST",f(a)},l=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(a.url&&typeof a.url!="string")throw new Error("Url must be a string");if(a.url=a.url||"",a.method&&typeof a.method!="string")throw new Error("`method` must be a string or null");if(a.method=a.method?a.method.toUpperCase():"GET",a.headers&&o(a.headers)!=="object")throw new Error("`headers` must be an object or null");if(a.headers=a.headers||{},a.type&&(typeof a.type!="string"||!Object.values(n).includes(a.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(a.progress&&typeof a.progress!="function")throw new Error("`progress` must be a function or null");if(a.progress=a.progress||function(e){},a.beforeSend=a.beforeSend||function(e){},a.ratio&&typeof a.ratio!="number")throw new Error("`ratio` must be a number");if(a.ratio<0||a.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(a.ratio=a.ratio||90,a.accept&&typeof a.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(a.accept=a.accept||"*/*",a.multiple&&typeof a.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(a.multiple=a.multiple||!1,a.fieldName&&typeof a.fieldName!="string")throw new Error("`fieldName` must be a string");return a.fieldName=a.fieldName||"files",a},d=function(a){switch(a.method){case"GET":var e=S(a.data,n.URLENCODED);delete a.data,a.url=/\?/.test(a.url)?a.url+"&"+e:a.url+"?"+e;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var c=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||n.JSON}(a);(_.isFormData(a.data)||_.isFormElement(a.data))&&(c=n.FORM),a.data=S(a.data,c),c!==x.contentType.FORM&&(a.headers["content-type"]=c)}return a},S=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case n.URLENCODED:return _.urlEncode(a);case n.JSON:return _.jsonEncode(a);case n.FORM:return _.formEncode(a);default:return a}},E=function(a){return a>=200&&a<300},{contentType:n={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:f,get:function(a){return a.method="GET",f(a)},post:y,transport:function(a){return a=l(a),_.selectFiles(a).then(function(e){for(var c=new FormData,h=0;h<e.length;h++)c.append(a.fieldName,e[h],e[h].name);_.isObject(a.data)&&Object.keys(a.data).forEach(function(g){var t=a.data[g];c.append(g,t)});var p=a.beforeSend;return a.beforeSend=function(){return p(e)},a.data=c,y(a)})},selectFiles:function(a){return delete(a=l(a)).beforeSend,_.selectFiles(a)}});v.exports=x},function(v,s,r){r.r(s);var o=r(1);window.Promise=window.Promise||o.a},function(v,s,r){(function(o){var n=o!==void 0&&o||typeof self!="undefined"&&self||window,f=Function.prototype.apply;function y(l,d){this._id=l,this._clearFn=d}s.setTimeout=function(){return new y(f.call(setTimeout,n,arguments),clearTimeout)},s.setInterval=function(){return new y(f.call(setInterval,n,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(l){l&&l.close()},y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(n,this._id)},s.enroll=function(l,d){clearTimeout(l._idleTimeoutId),l._idleTimeout=d},s.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},s._unrefActive=s.active=function(l){clearTimeout(l._idleTimeoutId);var d=l._idleTimeout;d>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},d))},r(6),s.setImmediate=typeof self!="undefined"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self!="undefined"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(v,s,r){(function(o,n){(function(f,y){if(!f.setImmediate){var l,d,S,E,_,x=1,a={},e=!1,c=f.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(f);h=h&&h.setTimeout?h:f,{}.toString.call(f.process)==="[object process]"?l=function(t){n.nextTick(function(){g(t)})}:function(){if(f.postMessage&&!f.importScripts){var t=!0,i=f.onmessage;return f.onmessage=function(){t=!1},f.postMessage("","*"),f.onmessage=i,t}}()?(E="setImmediate$"+Math.random()+"$",_=function(t){t.source===f&&typeof t.data=="string"&&t.data.indexOf(E)===0&&g(+t.data.slice(E.length))},f.addEventListener?f.addEventListener("message",_,!1):f.attachEvent("onmessage",_),l=function(t){f.postMessage(E+t,"*")}):f.MessageChannel?((S=new MessageChannel).port1.onmessage=function(t){g(t.data)},l=function(t){S.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,l=function(t){var i=c.createElement("script");i.onreadystatechange=function(){g(t),i.onreadystatechange=null,d.removeChild(i),i=null},d.appendChild(i)}):l=function(t){setTimeout(g,0,t)},h.setImmediate=function(t){typeof t!="function"&&(t=new Function(""+t));for(var i=new Array(arguments.length-1),w=0;w<i.length;w++)i[w]=arguments[w+1];var u={callback:t,args:i};return a[x]=u,l(x),x++},h.clearImmediate=p}function p(t){delete a[t]}function g(t){if(e)setTimeout(g,0,t);else{var i=a[t];if(i){e=!0;try{(function(w){var u=w.callback,m=w.args;switch(m.length){case 0:u();break;case 1:u(m[0]);break;case 2:u(m[0],m[1]);break;case 3:u(m[0],m[1],m[2]);break;default:u.apply(void 0,m)}})(i)}finally{p(t),e=!1}}}}})(typeof self=="undefined"?o===void 0?this:o:self)}).call(this,r(0),r(7))},function(v,s){var r,o,n=v.exports={};function f(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function l(h){if(r===setTimeout)return setTimeout(h,0);if((r===f||!r)&&setTimeout)return r=setTimeout,setTimeout(h,0);try{return r(h,0)}catch{try{return r.call(null,h,0)}catch{return r.call(this,h,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:f}catch{r=f}try{o=typeof clearTimeout=="function"?clearTimeout:y}catch{o=y}})();var d,S=[],E=!1,_=-1;function x(){E&&d&&(E=!1,d.length?S=d.concat(S):_=-1,S.length&&a())}function a(){if(!E){var h=l(x);E=!0;for(var p=S.length;p;){for(d=S,S=[];++_<p;)d&&d[_].run();_=-1,p=S.length}d=null,E=!1,function(g){if(o===clearTimeout)return clearTimeout(g);if((o===y||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(g);try{o(g)}catch{try{return o.call(null,g)}catch{return o.call(this,g)}}}(h)}}function e(h,p){this.fun=h,this.array=p}function c(){}n.nextTick=function(h){var p=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)p[g-1]=arguments[g];S.push(new e(h,p)),S.length!==1||E||l(a)},e.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.prependListener=c,n.prependOnceListener=c,n.listeners=function(h){return[]},n.binding=function(h){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(h){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(v,s,r){function o(f,y){for(var l=0;l<y.length;l++){var d=y[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}var n=r(9);v.exports=function(){function f(){(function(d,S){if(!(d instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f)}var y,l;return y=f,(l=[{key:"urlEncode",value:function(d){return n(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var S=new FormData;return Object.keys(d).forEach(function(E){var _=d[E];S.append(E,_)}),S}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(S,E){var _=document.createElement("INPUT");_.type="file",d.multiple&&_.setAttribute("multiple","multiple"),d.accept&&_.setAttribute("accept",d.accept),_.style.display="none",document.body.appendChild(_),_.addEventListener("change",function(x){var a=x.target.files;S(a),document.body.removeChild(_)},!1),_.click()})}},{key:"parseHeaders",value:function(d){var S=d.trim().split(/[\r\n]+/),E={};return S.forEach(function(_){var x=_.split(": "),a=x.shift(),e=x.join(": ");a&&(E[a]=e)}),E}}])&&o(y,l),f}()},function(v,s){var r=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(n,f,y,l){return f=f||null,y=y||"&",l=l||null,n?function(d){for(var S=new Array,E=0;E<d.length;E++)d[E]&&S.push(d[E]);return S}(Object.keys(n).map(function(d){var S,E,_=d;if(l&&(_=l+"["+_+"]"),typeof n[d]=="object"&&n[d]!==null)S=o(n[d],null,y,_);else{f&&(E=_,_=!isNaN(parseFloat(E))&&isFinite(E)?f+Number(_):_);var x=n[d];x=(x=(x=(x=x===!0?"1":x)===!1?"0":x)===0?"0":x)||"",S=r(_)+"="+r(x)}return S})).join(y).replace(/[!'()*]/g,""):""};v.exports=o}])},function(A,I){A.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(A,I){A.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(A,I){A.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(A,I){A.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(A,I){A.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(A,I,b){var v=b(7),s=b(8);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[A.i,s,""]]);var r={insert:"head",singleton:!1},o=(v(s,r),s.locals?s.locals:{});A.exports=o},function(A,I,b){var v,s=function(){return v===void 0&&(v=Boolean(window&&document&&document.all&&!window.atob)),v},r=function(){var e={};return function(c){if(e[c]===void 0){var h=document.querySelector(c);if(window.HTMLIFrameElement&&h instanceof window.HTMLIFrameElement)try{h=h.contentDocument.head}catch{h=null}e[c]=h}return e[c]}}(),o=[];function n(e){for(var c=-1,h=0;h<o.length;h++)if(o[h].identifier===e){c=h;break}return c}function f(e,c){for(var h={},p=[],g=0;g<e.length;g++){var t=e[g],i=c.base?t[0]+c.base:t[0],w=h[i]||0,u="".concat(i," ").concat(w);h[i]=w+1;var m=n(u),T={css:t[1],media:t[2],sourceMap:t[3]};m!==-1?(o[m].references++,o[m].updater(T)):o.push({identifier:u,updater:a(T,c),references:1}),p.push(u)}return p}function y(e){var c=document.createElement("style"),h=e.attributes||{};if(h.nonce===void 0){var p=b.nc;p&&(h.nonce=p)}if(Object.keys(h).forEach(function(t){c.setAttribute(t,h[t])}),typeof e.insert=="function")e.insert(c);else{var g=r(e.insert||"head");if(!g)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");g.appendChild(c)}return c}var l,d=(l=[],function(e,c){return l[e]=c,l.filter(Boolean).join(`
`)});function S(e,c,h,p){var g=h?"":p.media?"@media ".concat(p.media," {").concat(p.css,"}"):p.css;if(e.styleSheet)e.styleSheet.cssText=d(c,g);else{var t=document.createTextNode(g),i=e.childNodes;i[c]&&e.removeChild(i[c]),i.length?e.insertBefore(t,i[c]):e.appendChild(t)}}function E(e,c,h){var p=h.css,g=h.media,t=h.sourceMap;if(g?e.setAttribute("media",g):e.removeAttribute("media"),t&&btoa&&(p+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(t))))," */")),e.styleSheet)e.styleSheet.cssText=p;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(p))}}var _=null,x=0;function a(e,c){var h,p,g;if(c.singleton){var t=x++;h=_||(_=y(c)),p=S.bind(null,h,t,!1),g=S.bind(null,h,t,!0)}else h=y(c),p=E.bind(null,h,c),g=function(){(function(i){if(i.parentNode===null)return!1;i.parentNode.removeChild(i)})(h)};return p(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;p(e=i)}else g()}}A.exports=function(e,c){(c=c||{}).singleton||typeof c.singleton=="boolean"||(c.singleton=s());var h=f(e=e||[],c);return function(p){if(p=p||[],Object.prototype.toString.call(p)==="[object Array]"){for(var g=0;g<h.length;g++){var t=n(h[g]);o[t].references--}for(var i=f(p,c),w=0;w<h.length;w++){var u=n(h[w]);o[u].references===0&&(o[u].updater(),o.splice(u,1))}h=i}}}},function(A,I,b){(I=b(9)(!1)).push([A.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;
}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),A.exports=I},function(A,I,b){A.exports=function(v){var s=[];return s.toString=function(){return this.map(function(r){var o=function(n,f){var y=n[1]||"",l=n[3];if(!l)return y;if(f&&typeof btoa=="function"){var d=(E=l,_=btoa(unescape(encodeURIComponent(JSON.stringify(E)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(_),"/*# ".concat(x," */")),S=l.sources.map(function(a){return"/*# sourceURL=".concat(l.sourceRoot||"").concat(a," */")});return[y].concat(S).concat([d]).join(`
`)}var E,_,x;return[y].join(`
`)}(r,v);return r[2]?"@media ".concat(r[2]," {").concat(o,"}"):o}).join("")},s.i=function(r,o,n){typeof r=="string"&&(r=[[null,r,""]]);var f={};if(n)for(var y=0;y<this.length;y++){var l=this[y][0];l!=null&&(f[l]=!0)}for(var d=0;d<r.length;d++){var S=[].concat(r[d]);n&&f[S[0]]||(o&&(S[2]?S[2]="".concat(o," and ").concat(S[2]):S[2]=o),s.push(S))}},s}},function(A,I,b){b.r(I),b.d(I,"default",function(){return p}),b(6);var v=b(1),s=b.n(v);class r{constructor({api:t,config:i,onSelectFile:w,readOnly:u}){this.api=t,this.config=i,this.onSelectFile=w,this.readOnly=u,this.nodes={wrapper:o("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:o("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:o("div",this.CSS.imagePreloader),caption:o("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}static get status(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}render(t){return t.file&&Object.keys(t.file).length!==0?this.toggleStatus(r.status.UPLOADING):this.toggleStatus(r.status.EMPTY),this.nodes.wrapper}createFileButton(){const t=o("div",[this.CSS.button]);return t.innerHTML=this.config.buttonContent||`${s.a} ${this.api.i18n.t("Select an Image")}`,t.addEventListener("click",()=>{this.onSelectFile()}),t}showPreloader(t){this.nodes.imagePreloader.style.backgroundImage=`url(${t})`,this.toggleStatus(r.status.UPLOADING)}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(r.status.EMPTY)}fillImage(t){const i=/\.mp4$/.test(t)?"VIDEO":"IMG",w={src:t};let u="load";i==="VIDEO"&&(w.autoplay=!0,w.loop=!0,w.muted=!0,w.playsinline=!0,u="loadeddata"),this.nodes.imageEl=o(i,this.CSS.imageEl,w),this.nodes.imageEl.addEventListener(u,()=>{this.toggleStatus(r.status.FILLED),this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(t){this.nodes.caption&&(this.nodes.caption.innerHTML=t)}toggleStatus(t){for(const i in r.status)Object.prototype.hasOwnProperty.call(r.status,i)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${r.status[i]}`,t===r.status[i])}applyTune(t,i){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${t}`,i)}}const o=function(g,t=null,i={}){const w=document.createElement(g);Array.isArray(t)?w.classList.add(...t):t&&w.classList.add(t);for(const u in i)w[u]=i[u];return w};var n=b(2),f=b.n(n),y=b(3),l=b.n(y),d=b(4),S=b.n(d);class E{constructor({api:t,actions:i,onChange:w}){this.api=t,this.actions=i,this.onChange=w,this.buttons=[]}static get tunes(){return[{name:"withBorder",icon:l.a,title:"With border"},{name:"stretched",icon:S.a,title:"Stretch image"},{name:"withBackground",icon:f.a,title:"With background"}]}get CSS(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}render(t){const i=o("div",this.CSS.wrapper);return this.buttons=[],E.tunes.concat(this.actions).forEach(w=>{const u=this.api.i18n.t(w.title),m=o("div",[this.CSS.buttonBase,this.CSS.button],{innerHTML:w.icon,title:u});m.addEventListener("click",()=>{this.tuneClicked(w.name,w.action)}),m.dataset.tune=w.name,m.classList.toggle(this.CSS.buttonActive,t[w.name]),this.buttons.push(m),this.api.tooltip.onHover(m,u,{placement:"top"}),i.appendChild(m)}),i}tuneClicked(t,i){if(typeof i=="function"&&!i(t))return!1;const w=this.buttons.find(u=>u.dataset.tune===t);w.classList.toggle(this.CSS.buttonActive,!w.classList.contains(this.CSS.buttonActive)),this.onChange(t)}}var _=b(5),x=b.n(_),a=b(0),e=b.n(a);class c{constructor({config:t,onUpload:i,onError:w}){this.config=t,this.onUpload=i,this.onError=w}uploadSelectedFile({onPreview:t}){const i=function(u){const m=new FileReader;m.readAsDataURL(u),m.onload=T=>{t(T.target.result)}};let w;w=this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?e.a.selectFiles({accept:this.config.types}).then(u=>{i(u[0]);const m=this.config.uploader.uploadByFile(u[0]);return h(m)||console.warn("Custom uploader method uploadByFile should return a Promise"),m}):e.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:u=>{i(u[0])},fieldName:this.config.field}).then(u=>u.body),w.then(u=>{this.onUpload(u)}).catch(u=>{this.onError(u)})}uploadByUrl(t){let i;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(i=this.config.uploader.uploadByUrl(t),h(i)||console.warn("Custom uploader method uploadByUrl should return a Promise")):i=e.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:t},this.config.additionalRequestData),type:e.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(w=>w.body),i.then(w=>{this.onUpload(w)}).catch(w=>{this.onError(w)})}uploadByFile(t,{onPreview:i}){const w=new FileReader;let u;if(w.readAsDataURL(t),w.onload=m=>{i(m.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")u=this.config.uploader.uploadByFile(t),h(u)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const m=new FormData;m.append(this.config.field,t),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([T,L])=>{m.append(T,L)}),u=e.a.post({url:this.config.endpoints.byFile,data:m,type:e.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(T=>T.body)}u.then(m=>{this.onUpload(m)}).catch(m=>{this.onError(m)})}}function h(g){return g&&typeof g.then=="function"}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */class p{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:x.a,title:"Image"}}constructor({data:t,config:i,api:w,readOnly:u}){this.api=w,this.readOnly=u,this.config={endpoints:i.endpoints||"",additionalRequestData:i.additionalRequestData||{},additionalRequestHeaders:i.additionalRequestHeaders||{},field:i.field||"image",types:i.types||"image/*",captionPlaceholder:this.api.i18n.t(i.captionPlaceholder||"Caption"),buttonContent:i.buttonContent||"",uploader:i.uploader||void 0,actions:i.actions||[]},this.uploader=new c({config:this.config,onUpload:m=>this.onUpload(m),onError:m=>this.uploadingFailed(m)}),this.ui=new r({api:w,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:m=>{this.ui.showPreloader(m)}})},readOnly:u}),this.tunes=new E({api:w,actions:this.config.actions,onChange:m=>this.tuneToggled(m)}),this._data={},this.data=t}render(){return this.ui.render(this.data)}validate(t){return t.file&&t.file.url}save(){const t=this.ui.nodes.caption;return this._data.caption=t.innerHTML,this.data}renderSettings(){return this.tunes.render(this.data)}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}async onPaste(t){switch(t.type){case"tag":{const i=t.detail.data;if(/^blob:/.test(i.src)){const w=await fetch(i.src),u=await w.blob();this.uploadFile(u);break}this.uploadUrl(i.src);break}case"pattern":{const i=t.detail.data;this.uploadUrl(i);break}case"file":{const i=t.detail.file;this.uploadFile(i);break}}}set data(t){this.image=t.file,this._data.caption=t.caption||"",this.ui.fillCaption(this._data.caption),E.tunes.forEach(({name:i})=>{const w=t[i]!==void 0&&(t[i]===!0||t[i]==="true");this.setTune(i,w)})}get data(){return this._data}set image(t){console.log(t),this._data.file=t||{},t&&t.url&&this.ui.fillImage(t.url)}onUpload(t){t.success&&t.file?this.image=t.file:this.uploadingFailed("incorrect response: "+JSON.stringify(t))}uploadingFailed(t){console.log("Image Tool: uploading failed because of",t),this.api.notifier.show({message:this.api.i18n.t("Couldn\u2019t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(t){this.setTune(t,!this._data[t])}setTune(t,i){this._data[t]=i,this.ui.applyTune(t,i),t==="stretched"&&Promise.resolve().then(()=>{const w=this.api.blocks.getCurrentBlockIndex();this.api.blocks.stretchBlock(w,i)}).catch(w=>{console.error(w)})}uploadFile(t){this.uploader.uploadByFile(t,{onPreview:i=>{this.ui.showPreloader(i)}})}uploadUrl(t){this.ui.showPreloader(t),this.uploader.uploadByUrl(t)}}}]).default})})(G);var nt=q(G.exports),X={exports:{}};(function(N,U){(function(A,I){N.exports=I()})(window,function(){return function(A){var I={};function b(v){if(I[v])return I[v].exports;var s=I[v]={i:v,l:!1,exports:{}};return A[v].call(s.exports,s,s.exports,b),s.l=!0,s.exports}return b.m=A,b.c=I,b.d=function(v,s,r){b.o(v,s)||Object.defineProperty(v,s,{enumerable:!0,get:r})},b.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},b.t=function(v,s){if(1&s&&(v=b(v)),8&s||4&s&&typeof v=="object"&&v&&v.__esModule)return v;var r=Object.create(null);if(b.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:v}),2&s&&typeof v!="string")for(var o in v)b.d(r,o,function(n){return v[n]}.bind(null,o));return r},b.n=function(v){var s=v&&v.__esModule?function(){return v.default}:function(){return v};return b.d(s,"a",s),s},b.o=function(v,s){return Object.prototype.hasOwnProperty.call(v,s)},b.p="/",b(b.s=8)}([function(A,I){A.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" style="fill: none" xmlns="http://www.w3.org/2000/svg"><path d="M13.32 8.44 9.5 12.19c-.37.36-.57.85-.56 1.37a2.05 2.05 0 0 0 2 1.98c.53 0 1.02-.19 1.39-.55l3.83-3.75a3.75 3.75 0 0 0 1.1-2.74 4.1 4.1 0 0 0-4-3.96 3.85 3.85 0 0 0-2.77 1.1L6.66 9.39A5.63 5.63 0 0 0 5 13.5a6.14 6.14 0 0 0 6 5.94 5.77 5.77 0 0 0 4.17-1.64l3.83-3.75" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},function(A,I,b){A.exports=function(v){var s={};function r(o){if(s[o])return s[o].exports;var n=s[o]={i:o,l:!1,exports:{}};return v[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=v,r.c=s,r.d=function(o,n,f){r.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:f})},r.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,n){if(1&n&&(o=r(o)),8&n||4&n&&typeof o=="object"&&o&&o.__esModule)return o;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:o}),2&n&&typeof o!="string")for(var y in o)r.d(f,y,function(l){return o[l]}.bind(null,y));return f},r.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(n,"a",n),n},r.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},r.p="",r(r.s=3)}([function(v,s){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}v.exports=r},function(v,s,r){(function(o){var n=r(2),f=setTimeout;function y(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function d(e,c){for(;e._state===3;)e=e._value;e._state!==0?(e._handled=!0,l._immediateFn(function(){var h=e._state===1?c.onFulfilled:c.onRejected;if(h!==null){var p;try{p=h(e._value)}catch(g){return void E(c.promise,g)}S(c.promise,p)}else(e._state===1?S:E)(c.promise,e._value)})):e._deferreds.push(c)}function S(e,c){try{if(c===e)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var h=c.then;if(c instanceof l)return e._state=3,e._value=c,void _(e);if(typeof h=="function")return void a((p=h,g=c,function(){p.apply(g,arguments)}),e)}e._state=1,e._value=c,_(e)}catch(t){E(e,t)}var p,g}function E(e,c){e._state=2,e._value=c,_(e)}function _(e){e._state===2&&e._deferreds.length===0&&l._immediateFn(function(){e._handled||l._unhandledRejectionFn(e._value)});for(var c=0,h=e._deferreds.length;c<h;c++)d(e,e._deferreds[c]);e._deferreds=null}function x(e,c,h){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof c=="function"?c:null,this.promise=h}function a(e,c){var h=!1;try{e(function(p){h||(h=!0,S(c,p))},function(p){h||(h=!0,E(c,p))})}catch(p){if(h)return;h=!0,E(c,p)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,c){var h=new this.constructor(y);return d(this,new x(e,c,h)),h},l.prototype.finally=n.a,l.all=function(e){return new l(function(c,h){if(!e||e.length===void 0)throw new TypeError("Promise.all accepts an array");var p=Array.prototype.slice.call(e);if(p.length===0)return c([]);var g=p.length;function t(w,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var m=u.then;if(typeof m=="function")return void m.call(u,function(T){t(w,T)},h)}p[w]=u,--g==0&&c(p)}catch(T){h(T)}}for(var i=0;i<p.length;i++)t(i,p[i])})},l.resolve=function(e){return e&&typeof e=="object"&&e.constructor===l?e:new l(function(c){c(e)})},l.reject=function(e){return new l(function(c,h){h(e)})},l.race=function(e){return new l(function(c,h){for(var p=0,g=e.length;p<g;p++)e[p].then(c,h)})},l._immediateFn=typeof o=="function"&&function(e){o(e)}||function(e){f(e,0)},l._unhandledRejectionFn=function(e){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},s.a=l}).call(this,r(5).setImmediate)},function(v,s,r){s.a=function(o){var n=this.constructor;return this.then(function(f){return n.resolve(o()).then(function(){return f})},function(f){return n.resolve(o()).then(function(){return n.reject(f)})})}},function(v,s,r){function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(a)}r(4);var n,f,y,l,d,S,E,_=r(8),x=(f=function(a){return new Promise(function(e,c){a=l(a),(a=d(a)).beforeSend&&a.beforeSend();var h=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");h.open(a.method,a.url),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(a.headers).forEach(function(g){var t=a.headers[g];h.setRequestHeader(g,t)});var p=a.ratio;h.upload.addEventListener("progress",function(g){var t=Math.round(g.loaded/g.total*100),i=Math.ceil(t*p/100);a.progress(Math.min(i,100))},!1),h.addEventListener("progress",function(g){var t=Math.round(g.loaded/g.total*100),i=Math.ceil(t*(100-p)/100)+p;a.progress(Math.min(i,100))},!1),h.onreadystatechange=function(){if(h.readyState===4){var g=h.response;try{g=JSON.parse(g)}catch{}var t=_.parseHeaders(h.getAllResponseHeaders()),i={body:g,code:h.status,headers:t};E(h.status)?e(i):c(i)}},h.send(a.data)})},y=function(a){return a.method="POST",f(a)},l=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(a.url&&typeof a.url!="string")throw new Error("Url must be a string");if(a.url=a.url||"",a.method&&typeof a.method!="string")throw new Error("`method` must be a string or null");if(a.method=a.method?a.method.toUpperCase():"GET",a.headers&&o(a.headers)!=="object")throw new Error("`headers` must be an object or null");if(a.headers=a.headers||{},a.type&&(typeof a.type!="string"||!Object.values(n).includes(a.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(a.progress&&typeof a.progress!="function")throw new Error("`progress` must be a function or null");if(a.progress=a.progress||function(e){},a.beforeSend=a.beforeSend||function(e){},a.ratio&&typeof a.ratio!="number")throw new Error("`ratio` must be a number");if(a.ratio<0||a.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(a.ratio=a.ratio||90,a.accept&&typeof a.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(a.accept=a.accept||"*/*",a.multiple&&typeof a.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(a.multiple=a.multiple||!1,a.fieldName&&typeof a.fieldName!="string")throw new Error("`fieldName` must be a string");return a.fieldName=a.fieldName||"files",a},d=function(a){switch(a.method){case"GET":var e=S(a.data,n.URLENCODED);delete a.data,a.url=/\?/.test(a.url)?a.url+"&"+e:a.url+"?"+e;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var c=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||n.JSON}(a);(_.isFormData(a.data)||_.isFormElement(a.data))&&(c=n.FORM),a.data=S(a.data,c),c!==x.contentType.FORM&&(a.headers["content-type"]=c)}return a},S=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case n.URLENCODED:return _.urlEncode(a);case n.JSON:return _.jsonEncode(a);case n.FORM:return _.formEncode(a);default:return a}},E=function(a){return a>=200&&a<300},{contentType:n={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:f,get:function(a){return a.method="GET",f(a)},post:y,transport:function(a){return a=l(a),_.selectFiles(a).then(function(e){for(var c=new FormData,h=0;h<e.length;h++)c.append(a.fieldName,e[h],e[h].name);_.isObject(a.data)&&Object.keys(a.data).forEach(function(g){var t=a.data[g];c.append(g,t)});var p=a.beforeSend;return a.beforeSend=function(){return p(e)},a.data=c,y(a)})},selectFiles:function(a){return delete(a=l(a)).beforeSend,_.selectFiles(a)}});v.exports=x},function(v,s,r){r.r(s);var o=r(1);window.Promise=window.Promise||o.a},function(v,s,r){(function(o){var n=o!==void 0&&o||typeof self!="undefined"&&self||window,f=Function.prototype.apply;function y(l,d){this._id=l,this._clearFn=d}s.setTimeout=function(){return new y(f.call(setTimeout,n,arguments),clearTimeout)},s.setInterval=function(){return new y(f.call(setInterval,n,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(l){l&&l.close()},y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(n,this._id)},s.enroll=function(l,d){clearTimeout(l._idleTimeoutId),l._idleTimeout=d},s.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},s._unrefActive=s.active=function(l){clearTimeout(l._idleTimeoutId);var d=l._idleTimeout;d>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},d))},r(6),s.setImmediate=typeof self!="undefined"&&self.setImmediate||o!==void 0&&o.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self!="undefined"&&self.clearImmediate||o!==void 0&&o.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(v,s,r){(function(o,n){(function(f,y){if(!f.setImmediate){var l,d,S,E,_,x=1,a={},e=!1,c=f.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(f);h=h&&h.setTimeout?h:f,{}.toString.call(f.process)==="[object process]"?l=function(t){n.nextTick(function(){g(t)})}:function(){if(f.postMessage&&!f.importScripts){var t=!0,i=f.onmessage;return f.onmessage=function(){t=!1},f.postMessage("","*"),f.onmessage=i,t}}()?(E="setImmediate$"+Math.random()+"$",_=function(t){t.source===f&&typeof t.data=="string"&&t.data.indexOf(E)===0&&g(+t.data.slice(E.length))},f.addEventListener?f.addEventListener("message",_,!1):f.attachEvent("onmessage",_),l=function(t){f.postMessage(E+t,"*")}):f.MessageChannel?((S=new MessageChannel).port1.onmessage=function(t){g(t.data)},l=function(t){S.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,l=function(t){var i=c.createElement("script");i.onreadystatechange=function(){g(t),i.onreadystatechange=null,d.removeChild(i),i=null},d.appendChild(i)}):l=function(t){setTimeout(g,0,t)},h.setImmediate=function(t){typeof t!="function"&&(t=new Function(""+t));for(var i=new Array(arguments.length-1),w=0;w<i.length;w++)i[w]=arguments[w+1];var u={callback:t,args:i};return a[x]=u,l(x),x++},h.clearImmediate=p}function p(t){delete a[t]}function g(t){if(e)setTimeout(g,0,t);else{var i=a[t];if(i){e=!0;try{(function(w){var u=w.callback,m=w.args;switch(m.length){case 0:u();break;case 1:u(m[0]);break;case 2:u(m[0],m[1]);break;case 3:u(m[0],m[1],m[2]);break;default:u.apply(void 0,m)}})(i)}finally{p(t),e=!1}}}}})(typeof self=="undefined"?o===void 0?this:o:self)}).call(this,r(0),r(7))},function(v,s){var r,o,n=v.exports={};function f(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function l(h){if(r===setTimeout)return setTimeout(h,0);if((r===f||!r)&&setTimeout)return r=setTimeout,setTimeout(h,0);try{return r(h,0)}catch{try{return r.call(null,h,0)}catch{return r.call(this,h,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:f}catch{r=f}try{o=typeof clearTimeout=="function"?clearTimeout:y}catch{o=y}})();var d,S=[],E=!1,_=-1;function x(){E&&d&&(E=!1,d.length?S=d.concat(S):_=-1,S.length&&a())}function a(){if(!E){var h=l(x);E=!0;for(var p=S.length;p;){for(d=S,S=[];++_<p;)d&&d[_].run();_=-1,p=S.length}d=null,E=!1,function(g){if(o===clearTimeout)return clearTimeout(g);if((o===y||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(g);try{o(g)}catch{try{return o.call(null,g)}catch{return o.call(this,g)}}}(h)}}function e(h,p){this.fun=h,this.array=p}function c(){}n.nextTick=function(h){var p=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)p[g-1]=arguments[g];S.push(new e(h,p)),S.length!==1||E||l(a)},e.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.prependListener=c,n.prependOnceListener=c,n.listeners=function(h){return[]},n.binding=function(h){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(h){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(v,s,r){function o(f,y){for(var l=0;l<y.length;l++){var d=y[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}var n=r(9);v.exports=function(){function f(){(function(d,S){if(!(d instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f)}var y,l;return y=f,(l=[{key:"urlEncode",value:function(d){return n(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var S=new FormData;return Object.keys(d).forEach(function(E){var _=d[E];S.append(E,_)}),S}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(S,E){var _=document.createElement("INPUT");_.type="file",d.multiple&&_.setAttribute("multiple","multiple"),d.accept&&_.setAttribute("accept",d.accept),_.style.display="none",document.body.appendChild(_),_.addEventListener("change",function(x){var a=x.target.files;S(a),document.body.removeChild(_)},!1),_.click()})}},{key:"parseHeaders",value:function(d){var S=d.trim().split(/[\r\n]+/),E={};return S.forEach(function(_){var x=_.split(": "),a=x.shift(),e=x.join(": ");a&&(E[a]=e)}),E}}])&&o(y,l),f}()},function(v,s){var r=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},o=function(n,f,y,l){return f=f||null,y=y||"&",l=l||null,n?function(d){for(var S=new Array,E=0;E<d.length;E++)d[E]&&S.push(d[E]);return S}(Object.keys(n).map(function(d){var S,E,_=d;if(l&&(_=l+"["+_+"]"),typeof n[d]=="object"&&n[d]!==null)S=o(n[d],null,y,_);else{f&&(E=_,_=!isNaN(parseFloat(E))&&isFinite(E)?f+Number(_):_);var x=n[d];x=(x=(x=(x=x===!0?"1":x)===!1?"0":x)===0?"0":x)||"",S=r(_)+"="+r(x)}return S})).join(y).replace(/[!'()*]/g,""):""};v.exports=o}])},function(A,I){A.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m7 10 4.86 4.86c.08.08.2.08.28 0L17 10" stroke="#000" stroke-width="2" stroke-linecap="round"></path></svg>'},function(A,I,b){var v=b(4);typeof v=="string"&&(v=[[A.i,v,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};b(6)(v,s),v.locals&&(A.exports=v.locals)},function(A,I,b){(A.exports=b(5)(!1)).push([A.i,`.cdx-attaches {
  --color-line: #EFF0F1;
  --color-bg: #fff;
  --color-bg-secondary: #F8F8F8;
  --color-bg-secondary--hover: #f2f2f2;
  --color-text-secondary: #707684;
}

  .cdx-attaches--with-file {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    border: 1px solid var(--color-line);
    border-radius: 7px;
    background: var(--color-bg);
  }

  .cdx-attaches--with-file .cdx-attaches__file-info {
      display: grid;
      grid-gap: 4px;
      max-width: calc(100% - 80px);
      margin: auto 0;
      flex-grow: 2;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button {
      display: flex;
      align-items: center;
      background: var(--color-bg-secondary);
      padding: 6px;
      border-radius: 6px;
      margin: auto 0 auto auto;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button:hover {
        background: var(--color-bg-secondary--hover);
      }

  .cdx-attaches--with-file .cdx-attaches__download-button svg {
        width: 20px;
        height: 20px;
        fill: none;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon {
      position: relative;
    }

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
        background-color: #333;

        width: 27px;
        height: 30px;
        margin-right: 12px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

  @supports(-webkit-mask-box-image: url('')){

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
          border-radius: 0;
          -webkit-mask-box-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10.3872C0 1.83334 1.83334 0 10.3872 0H13.6128C22.1667 0 24 1.83334 24 10.3872V13.6128C24 22.1667 22.1667 24 13.6128 24H10.3872C1.83334 24 0 22.1667 0 13.6128V10.3872Z' fill='black'/%3E%3C/svg%3E%0A") 48% 41% 37.9% 53.3%
      };
        }

  .cdx-attaches--with-file .cdx-attaches__file-icon-label {
        position: absolute;
        left: 3px;
        top: 11px;
        background: inherit;
        text-transform: uppercase;
        line-height: 1em;
        color: #fff;
        padding: 1px 2px;
        border-radius: 3px;
        font-size: 10px;
        font-weight: bold;
        /* box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.22); */
        font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
        letter-spacing: 0.02em;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon svg {
        width: 20px;
        height: 20px;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon path {
        stroke: #fff;
      }

  .cdx-attaches--with-file .cdx-attaches__size {
      color: var(--color-text-secondary);
      font-size: 12px;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__size::after {
        content: attr(data-size);
        margin-left: 0.2em;
      }

  .cdx-attaches--with-file .cdx-attaches__title {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      outline: none;
      max-width: 90%;
      font-size: 14px;
      font-weight: 500;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__title:empty::before {
      content: attr(data-placeholder);
      color: #7b7e89;
    }

  .cdx-attaches--loading .cdx-attaches__title,
    .cdx-attaches--loading .cdx-attaches__file-icon,
    .cdx-attaches--loading .cdx-attaches__size,
    .cdx-attaches--loading .cdx-attaches__download-button,
    .cdx-attaches--loading .cdx-attaches__button {
      opacity: 0;
      font-size: 0;
    }

  .cdx-attaches__button {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    border-radius: 7px;
    font-weight: 500;
  }

  .cdx-attaches__button svg {
      height: 20px;
      height: 20px;
      margin-top: 0;
      margin-right: 8px;
      fill: none;
    }
`,""])},function(A,I){A.exports=function(b){var v=[];return v.toString=function(){return this.map(function(s){var r=function(o,n){var f=o[1]||"",y=o[3];if(!y)return f;if(n&&typeof btoa=="function"){var l=(S=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(S))))+" */"),d=y.sources.map(function(E){return"/*# sourceURL="+y.sourceRoot+E+" */"});return[f].concat(d).concat([l]).join(`
`)}var S;return[f].join(`
`)}(s,b);return s[2]?"@media "+s[2]+"{"+r+"}":r}).join("")},v.i=function(s,r){typeof s=="string"&&(s=[[null,s,""]]);for(var o={},n=0;n<this.length;n++){var f=this[n][0];typeof f=="number"&&(o[f]=!0)}for(n=0;n<s.length;n++){var y=s[n];typeof y[0]=="number"&&o[y[0]]||(r&&!y[2]?y[2]=r:r&&(y[2]="("+y[2]+") and ("+r+")"),v.push(y))}},v}},function(A,I,b){var v,s,r={},o=(v=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=v.apply(this,arguments)),s}),n=function(u){return document.querySelector(u)},f=function(u){var m={};return function(T){if(typeof T=="function")return T();if(m[T]===void 0){var L=n.call(this,T);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}m[T]=L}return m[T]}}(),y=null,l=0,d=[],S=b(7);function E(u,m){for(var T=0;T<u.length;T++){var L=u[T],B=r[L.id];if(B){B.refs++;for(var k=0;k<B.parts.length;k++)B.parts[k](L.parts[k]);for(;k<L.parts.length;k++)B.parts.push(h(L.parts[k],m))}else{var O=[];for(k=0;k<L.parts.length;k++)O.push(h(L.parts[k],m));r[L.id]={id:L.id,refs:1,parts:O}}}}function _(u,m){for(var T=[],L={},B=0;B<u.length;B++){var k=u[B],O=m.base?k[0]+m.base:k[0],C={css:k[1],media:k[2],sourceMap:k[3]};L[O]?L[O].parts.push(C):T.push(L[O]={id:O,parts:[C]})}return T}function x(u,m){var T=f(u.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var L=d[d.length-1];if(u.insertAt==="top")L?L.nextSibling?T.insertBefore(m,L.nextSibling):T.appendChild(m):T.insertBefore(m,T.firstChild),d.push(m);else if(u.insertAt==="bottom")T.appendChild(m);else{if(typeof u.insertAt!="object"||!u.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var B=f(u.insertInto+" "+u.insertAt.before);T.insertBefore(m,B)}}function a(u){if(u.parentNode===null)return!1;u.parentNode.removeChild(u);var m=d.indexOf(u);m>=0&&d.splice(m,1)}function e(u){var m=document.createElement("style");return u.attrs.type===void 0&&(u.attrs.type="text/css"),c(m,u.attrs),x(u,m),m}function c(u,m){Object.keys(m).forEach(function(T){u.setAttribute(T,m[T])})}function h(u,m){var T,L,B,k;if(m.transform&&u.css){if(!(k=m.transform(u.css)))return function(){};u.css=k}if(m.singleton){var O=l++;T=y||(y=e(m)),L=t.bind(null,T,O,!1),B=t.bind(null,T,O,!0)}else u.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(C){var j=document.createElement("link");return C.attrs.type===void 0&&(C.attrs.type="text/css"),C.attrs.rel="stylesheet",c(j,C.attrs),x(C,j),j}(m),L=w.bind(null,T,m),B=function(){a(T),T.href&&URL.revokeObjectURL(T.href)}):(T=e(m),L=i.bind(null,T),B=function(){a(T)});return L(u),function(C){if(C){if(C.css===u.css&&C.media===u.media&&C.sourceMap===u.sourceMap)return;L(u=C)}else B()}}A.exports=function(u,m){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(m=m||{}).attrs=typeof m.attrs=="object"?m.attrs:{},m.singleton||typeof m.singleton=="boolean"||(m.singleton=o()),m.insertInto||(m.insertInto="head"),m.insertAt||(m.insertAt="bottom");var T=_(u,m);return E(T,m),function(L){for(var B=[],k=0;k<T.length;k++){var O=T[k];(C=r[O.id]).refs--,B.push(C)}for(L&&E(_(L,m),m),k=0;k<B.length;k++){var C;if((C=B[k]).refs===0){for(var j=0;j<C.parts.length;j++)C.parts[j]();delete r[C.id]}}}};var p,g=(p=[],function(u,m){return p[u]=m,p.filter(Boolean).join(`
`)});function t(u,m,T,L){var B=T?"":L.css;if(u.styleSheet)u.styleSheet.cssText=g(m,B);else{var k=document.createTextNode(B),O=u.childNodes;O[m]&&u.removeChild(O[m]),O.length?u.insertBefore(k,O[m]):u.appendChild(k)}}function i(u,m){var T=m.css,L=m.media;if(L&&u.setAttribute("media",L),u.styleSheet)u.styleSheet.cssText=T;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(T))}}function w(u,m,T){var L=T.css,B=T.sourceMap,k=m.convertToAbsoluteUrls===void 0&&B;(m.convertToAbsoluteUrls||k)&&(L=S(L)),B&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var O=new Blob([L],{type:"text/css"}),C=u.href;u.href=URL.createObjectURL(O),C&&URL.revokeObjectURL(C)}},function(A,I){A.exports=function(b){var v=typeof window!="undefined"&&window.location;if(!v)throw new Error("fixUrls requires window.location");if(!b||typeof b!="string")return b;var s=v.protocol+"//"+v.host,r=s+v.pathname.replace(/\/[^\/]*$/,"/");return b.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(o,n){var f,y=n.trim().replace(/^"(.*)"$/,function(l,d){return d}).replace(/^'(.*)'$/,function(l,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?o:(f=y.indexOf("//")===0?y:y.indexOf("/")===0?s+y:r+y.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(A,I,b){b.r(I),b.d(I,"default",function(){return a}),b(3);var v=b(1),s=b.n(v);function r(e,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(e,p.key,p)}}var o=function(){function e(p){var g=p.config,t=p.onUpload,i=p.onError;(function(w,u){if(!(w instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),this.config=g,this.onUpload=t,this.onError=i}var c,h;return c=e,(h=[{key:"uploadSelectedFile",value:function(p){var g=this,t=p.onPreview;(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?s.a.selectFiles({accept:this.config.types}).then(function(i){t();var w,u=g.config.uploader.uploadByFile(i[0]);return(w=u)&&typeof w.then=="function"||console.warn("Custom uploader method uploadByFile should return a Promise"),u}):s.a.transport({url:this.config.endpoint,accept:this.config.types,beforeSend:function(){return t()},fieldName:this.config.field,headers:this.config.additionalRequestHeaders||{}}).then(function(i){return i.body})).then(function(i){g.onUpload(i)}).catch(function(i){var w=i.body,u=w&&w.message?w.message:g.config.errorMessage;g.onError(u)})}}])&&r(c.prototype,h),e}(),n=b(0),f=b.n(n),y=b(2),l=b.n(y);function d(e){return function(c){if(Array.isArray(c))return S(c)}(e)||function(c){if(typeof Symbol!="undefined"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(e)||function(c,h){if(!!c){if(typeof c=="string")return S(c,h);var p=Object.prototype.toString.call(c).slice(8,-1);if(p==="Object"&&c.constructor&&(p=c.constructor.name),p==="Map"||p==="Set")return Array.from(c);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return S(c,h)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(e,c){(c==null||c>e.length)&&(c=e.length);for(var h=0,p=new Array(c);h<c;h++)p[h]=e[h];return p}function E(e){var c,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(e);Array.isArray(h)?(c=g.classList).add.apply(c,d(h)):h&&g.classList.add(h);for(var t in p)g[t]=p[t];return g}function _(e){return Object.keys(e).length===0}function x(e,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(e,p.key,p)}}var a=function(){function e(g){var t=this,i=g.data,w=g.config,u=g.api,m=g.readOnly;(function(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")})(this,e),this.api=u,this.readOnly=m,this.nodes={wrapper:null,button:null,title:null},this._data={file:{},title:""},this.config={endpoint:w.endpoint||"",field:w.field||"file",types:w.types||"*",buttonText:w.buttonText||"Select file to upload",errorMessage:w.errorMessage||"File upload failed",uploader:w.uploader||void 0,additionalRequestHeaders:w.additionalRequestHeaders||{}},i===void 0||_(i)||(this.data=i),this.uploader=new o({config:this.config,onUpload:function(T){return t.onUpload(T)},onError:function(T){return t.uploadingFailed(T)}}),this.enableFileUpload=this.enableFileUpload.bind(this)}var c,h,p;return c=e,p=[{key:"toolbox",get:function(){return{icon:f.a,title:"Attachment"}}},{key:"isReadOnlySupported",get:function(){return!0}}],(h=[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,apiButton:this.api.styles.button,loader:this.api.styles.loader,wrapper:"cdx-attaches",wrapperWithFile:"cdx-attaches--with-file",wrapperLoading:"cdx-attaches--loading",button:"cdx-attaches__button",title:"cdx-attaches__title",size:"cdx-attaches__size",downloadButton:"cdx-attaches__download-button",fileInfo:"cdx-attaches__file-info",fileIcon:"cdx-attaches__file-icon",fileIconBackground:"cdx-attaches__file-icon-background",fileIconLabel:"cdx-attaches__file-icon-label"}}},{key:"EXTENSIONS",get:function(){return{doc:"#1483E9",docx:"#1483E9",odt:"#1483E9",pdf:"#DB2F2F",rtf:"#744FDC",tex:"#5a5a5b",txt:"#5a5a5b",pptx:"#E35200",ppt:"#E35200",mp3:"#eab456",mp4:"#f676a6",xls:"#11AE3D",html:"#2988f0",htm:"#2988f0",png:"#AA2284",jpg:"#D13359",jpeg:"#D13359",gif:"#f6af76",zip:"#4f566f",rar:"#4f566f",exe:"#e26f6f",svg:"#bf5252",key:"#00B2FF",sketch:"#FFC700",ai:"#FB601D",psd:"#388ae5",dmg:"#e26f6f",json:"#2988f0",csv:"#11AE3D"}}},{key:"validate",value:function(g){return!_(g.file)}},{key:"save",value:function(g){if(this.pluginHasData()){var t=g.querySelector(".".concat(this.CSS.title));t&&Object.assign(this.data,{title:t.innerHTML})}return this.data}},{key:"render",value:function(){var g=E("div",this.CSS.baseClass);return this.nodes.wrapper=E("div",this.CSS.wrapper),this.pluginHasData()?this.showFileData():this.prepareUploadButton(),g.appendChild(this.nodes.wrapper),g}},{key:"prepareUploadButton",value:function(){this.nodes.button=E("div",[this.CSS.apiButton,this.CSS.button]),this.nodes.button.innerHTML="".concat(f.a," ").concat(this.config.buttonText),this.readOnly||this.nodes.button.addEventListener("click",this.enableFileUpload),this.nodes.wrapper.appendChild(this.nodes.button)}},{key:"appendCallback",value:function(){this.nodes.button.click()}},{key:"pluginHasData",value:function(){return this.data.title!==""||Object.values(this.data.file).some(function(g){return g!==void 0})}},{key:"enableFileUpload",value:function(){var g=this;this.uploader.uploadSelectedFile({onPreview:function(){g.nodes.wrapper.classList.add(g.CSS.wrapperLoading,g.CSS.loader)}})}},{key:"onUpload",value:function(g){var t,i,w,u=g;try{u.success&&u.file!==void 0&&!_(u.file)?(this.data={file:u.file,title:u.file.title||""},this.nodes.button.remove(),this.showFileData(),t=this.nodes.title,i=document.createRange(),w=window.getSelection(),i.selectNodeContents(t),i.collapse(!1),w.removeAllRanges(),w.addRange(i),this.removeLoader()):this.uploadingFailed(this.config.errorMessage)}catch(m){console.error("Attaches tool error:",m),this.uploadingFailed(this.config.errorMessage)}this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).dispatchChange()}},{key:"appendFileIcon",value:function(g){var t,i=g.extension||((t=g.name)===void 0?"":t.split(".").pop()),w=this.EXTENSIONS[i],u=E("div",this.CSS.fileIcon),m=E("div",this.CSS.fileIconBackground);if(w&&(m.style.backgroundColor=w),u.appendChild(m),i){var T=i;i.length>4&&(T=i.substring(0,4)+"\u2026");var L=E("div",this.CSS.fileIconLabel,{textContent:T,title:i});w&&(L.style.backgroundColor=w),u.appendChild(L)}else m.innerHTML=f.a;this.nodes.wrapper.appendChild(u)}},{key:"removeLoader",value:function(){var g=this;setTimeout(function(){return g.nodes.wrapper.classList.remove(g.CSS.wrapperLoading,g.CSS.loader)},500)}},{key:"showFileData",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperWithFile);var g=this.data,t=g.file,i=g.title;this.appendFileIcon(t);var w=E("div",this.CSS.fileInfo);if(this.nodes.title=E("div",this.CSS.title,{contentEditable:this.readOnly===!1}),this.nodes.title.dataset.placeholder=this.api.i18n.t("File title"),this.nodes.title.textContent=i||"",w.appendChild(this.nodes.title),t.size){var u,m,T=E("div",this.CSS.size);Math.log10(+t.size)>=6?(u="MiB",m=t.size/Math.pow(2,20)):(u="KiB",m=t.size/Math.pow(2,10)),T.textContent=m.toFixed(1),T.setAttribute("data-size",u),w.appendChild(T)}if(this.nodes.wrapper.appendChild(w),t.url!==void 0){var L=E("a",this.CSS.downloadButton,{innerHTML:l.a,href:t.url,target:"_blank",rel:"nofollow noindex noreferrer"});this.nodes.wrapper.appendChild(L)}}},{key:"uploadingFailed",value:function(g){this.api.notifier.show({message:g,style:"error"}),this.removeLoader()}},{key:"data",get:function(){return this._data},set:function(g){var t=g.file,i=g.title;this._data={file:t,title:i}}}])&&x(c.prototype,h),p&&x(c,p),e}()}]).default})})(X);var ot=q(X.exports);NovaEditorJS.booting(function(N,U){N.tools.image={class:nt,config:{endpoints:{byFile:U.uploadImageByFileEndpoint,byUrl:U.uploadImageByUrlEndpoint},additionalRequestHeaders:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}},U.toolSettings.attaches.activated===!0&&(N.tools.attaches={class:ot,inlineToolbar:U.toolSettings.attaches.inlineToolbar,shortcut:U.toolSettings.attaches.shortcut,config:{endpoint:U.toolSettings.attaches.uploadFileEndpoint,additionalRequestHeaders:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}}),U.toolSettings.toggle.activated===!0&&(N.tools.toggle={class:et,shortcut:U.toolSettings.quote.shortcut}),U.toolSettings.quote.activated===!0&&(N.tools.quote={class:tt,shortcut:U.toolSettings.quote.shortcut}),U.toolSettings.carousel.activated===!0&&(N.tools.carousel={class:Q,shortcut:U.toolSettings.carousel.shortcut,toolbox:{icon:"<svg xmlns='http://www.w3.org/2000/svg' width='12' height='9.55' viewBox='0 0 12 9.55'><path d='M10 6.82a1.13 1.13 0 001.1 1.17h.9V4.75l-2 1.28zm-3.54.17l-1.37-1-1.81 1-2.6-2.33-.68.43v2.9h5.37a1.13 1.13 0 001.09-1z' opacity='.19'/><path d='M7.92 6.82V2.73A2.65 2.65 0 005.37 0H0v1.56h5.37a1.14 1.14 0 011.1 1.17V5.2L5.12 4.14l-1.82 1L.71 2.67l-.71.5v1.92l.68-.43 2.6 2.31 1.81-1 1.37 1a1.13 1.13 0 01-1.09 1H0v1.56h5.37a2.64 2.64 0 002.55-2.71zm.63-4.09v4.09a2.64 2.64 0 002.55 2.73h.9V7.99h-.9A1.13 1.13 0 0110 6.82v-.79l2-1.28v-2L10 4.2V2.73a1.14 1.14 0 011.1-1.17h.9V0h-.9a2.65 2.65 0 00-2.55 2.73z'/</svg>",title:"Gallery"},config:{additionalRequestHeaders:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},endpoints:{byFile:U.uploadImageByFileEndpoint}}}),U.toolSettings.blockWidthTune.activated===!0&&(N.tools.blockWidthTune={class:Y,shortcut:U.toolSettings.blockWidthTune.shortcut},N.tools.image.tunes=["blockWidthTune"],N.tools.carousel.tunes=["blockWidthTune"],N.tools.quote.tunes=["blockWidthTune"],N.tools.embed.tunes=["blockWidthTune"],N.tools.raw.tunes=["blockWidthTune"],N.tools.header.toolbox=[{icon:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M15.8 2.5h3.8v19.1h-3.8V14H8.2v7.6H4.4V2.5h3.8v7.6h7.6V2.5z' stroke='#000' stroke-width='.75' stroke-miterlimit='10'/></svg>",title:"Heading",data:{level:2}},{icon:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M14.6 5.6h2.6v12.9h-2.6v-5.2H9.4v5.2H6.8V5.6h2.6v5.2h5.2V5.6z'/></svg>",title:"Subheading",data:{level:3}}])});
